<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] Figuring out/referring to FSM states (cs values) outside of action{} blox
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Figuring%20out/referring%20to%20FSM%20states%20%28cs%20values%29%0A%20outside%20of%20action%7B%7D%20blox&In-Reply-To=%3C4B0422E9.1080107%40esentire.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="002804.html">
   <LINK REL="Next"  HREF="002806.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] Figuring out/referring to FSM states (cs values) outside of action{} blox</H1>
    <B>Adrian Thurston</B> 
    <A HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Figuring%20out/referring%20to%20FSM%20states%20%28cs%20values%29%0A%20outside%20of%20action%7B%7D%20blox&In-Reply-To=%3C4B0422E9.1080107%40esentire.com%3E"
       TITLE="[ragel-users] Figuring out/referring to FSM states (cs values) outside of action{} blox">adrian.thurston at esentire.com
       </A><BR>
    <I>Wed Nov 18 16:38:01 UTC 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002804.html">[ragel-users] Figuring out/referring to FSM states (cs values)	outside of action{} blox
</A></li>
        <LI>Next message: <A HREF="002806.html">[ragel-users] Figuring out/referring to FSM states (cs values)	outside of action{} blox
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2805">[ date ]</a>
              <a href="thread.html#2805">[ thread ]</a>
              <a href="subject.html#2805">[ subject ]</a>
              <a href="author.html#2805">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The problem with doing this in Ragel is that any particular named 
machine definition may correspond to more than one state in the compiled 
output. Therefore, a variable to be used outside of the machine would 
actually have to be a set of states.

For this reason, Ragel does not automate the process. Instead, what you 
should do is use actions to maintain a state variable that has meaning 
outside the FSM.

-Adrian

Rashid Karimov wrote:
&gt;<i> Folx,
</I>&gt;<i> 
</I>&gt;<i> Say I have a machine defined with a number of states in it:
</I>&gt;<i> 
</I>&gt;<i> S1 (
</I>&gt;<i> 
</I>&gt;<i> Event1 -&gt; S2 ),
</I>&gt;<i> 
</I>&gt;<i> S2 (
</I>&gt;<i> 
</I>&gt;<i> Event2 -&gt; S3),
</I>&gt;<i> 
</I>&gt;<i> ..... and so on .
</I>&gt;<i> 
</I>&gt;<i> I access cs as  blah-&gt;cs .
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> If I want to figure out and/or modify , outside of FMS action{} code 
</I>&gt;<i> blocks, if the current state is S2 or S3,
</I>&gt;<i> how do I find out what S2 and S3 translate to, in terms of context-&gt;cs 
</I>&gt;<i> value ?
</I>&gt;<i> 
</I>&gt;<i> Outside of exporting FSM as an XML and then going over it, is there a 
</I>&gt;<i> way to ask Ragel to &quot;export&quot; the state
</I>&gt;<i> mappings ? Similar to the  way one can import event definitions like so:
</I>&gt;<i> 
</I>&gt;<i> #define Event1 'a'
</I>&gt;<i> #define Event2 'b'
</I>&gt;<i> 
</I>&gt;<i> can Ragel export state cs values like so:
</I>&gt;<i> 
</I>&gt;<i> #define S1 1
</I>&gt;<i> #define S2 2
</I>&gt;<i> 
</I>&gt;<i> Again, one could use Ragel's dot or XML output to figure out what 
</I>&gt;<i> different states translate to in terms of cs values
</I>&gt;<i> and then map them manually, but I was hoping there's a different, more 
</I>&gt;<i> automated way to go about it.
</I>&gt;<i> 
</I>&gt;<i> When/if the FSM definition is modified - new states included, existing 
</I>&gt;<i> states deleted,  etc, such manual definitions
</I>&gt;<i> would clearly get out of sync  and this is what I am trying to avoid.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> TY
</I>&gt;<i> Rashid
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> ragel-users mailing list
</I>&gt;<i> <A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">ragel-users at complang.org</A>
</I>&gt;<i> <A HREF="http://www.complang.org/mailman/listinfo/ragel-users">http://www.complang.org/mailman/listinfo/ragel-users</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002804.html">[ragel-users] Figuring out/referring to FSM states (cs values)	outside of action{} blox
</A></li>
	<LI>Next message: <A HREF="002806.html">[ragel-users] Figuring out/referring to FSM states (cs values)	outside of action{} blox
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2805">[ date ]</a>
              <a href="thread.html#2805">[ thread ]</a>
              <a href="subject.html#2805">[ subject ]</a>
              <a href="author.html#2805">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">More information about the ragel-users
mailing list</a><br>
</body></html>
