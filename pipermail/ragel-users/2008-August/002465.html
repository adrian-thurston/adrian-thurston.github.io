<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Parsing From Ring Buffers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20Parsing%20From%20Ring%20Buffers&In-Reply-To=%3C20080801001320.GA4657%40wilbur.25thandClement.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Parsing From Ring Buffers</H1>
    <B>William Ahern</B> 
    <A HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20Parsing%20From%20Ring%20Buffers&In-Reply-To=%3C20080801001320.GA4657%40wilbur.25thandClement.com%3E"
       TITLE="Parsing From Ring Buffers">will... at 25thandClement.com
       </A><BR>
    <I>Fri Aug  1 00:13:20 UTC 2008</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2465">[ date ]</a>
              <a href="thread.html#2465">[ thread ]</a>
              <a href="subject.html#2465">[ subject ]</a>
              <a href="author.html#2465">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Cursorily looking at the generated code, it appears to be deceptively easy
to turn `p', `pe', and `eof' into indexes, rather than pointers, given the
`fpc' macro. Perhaps by simply adding a second macro to increment and
decrement the index?

Am I missing anything that would throw a monkey wrench into such a patch?
This could make scanners more efficient, because there would be no need to
use memmove().

It might even work without a patch, but technically it's undefined behavior
in C to derive pointer values outside arrays or malloc'd blocks. Compilers
like TinyCC have the ability to catch such errors, which can be useful when
tracking down bugs. But to keep from having to re-adjust `ts' and `te', and
so that Ragel sees a linear input space during scanning, the indexing would
have to extend beyond the ring buffer (and fpc would just be a simple
modulus operation).

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2465">[ date ]</a>
              <a href="thread.html#2465">[ thread ]</a>
              <a href="subject.html#2465">[ subject ]</a>
              <a href="author.html#2465">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">More information about the ragel-users
mailing list</a><br>
</body></html>
