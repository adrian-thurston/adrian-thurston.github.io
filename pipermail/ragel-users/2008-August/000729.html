<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] Ragel pointers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Ragel%20pointers&In-Reply-To=%3CB826B95C-4279-4C27-ADB9-D044CCC9FB08%40wincent.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000728.html">
   <LINK REL="Next"  HREF="000723.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] Ragel pointers</H1>
    <B>Wincent Colaiuta</B> 
    <A HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Ragel%20pointers&In-Reply-To=%3CB826B95C-4279-4C27-ADB9-D044CCC9FB08%40wincent.com%3E"
       TITLE="[ragel-users] Ragel pointers">w... at wincent.com
       </A><BR>
    <I>Sat Aug 30 13:25:34 UTC 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000728.html">[ragel-users] Ragel pointers
</A></li>
        <LI>Next message: <A HREF="000723.html">SVN server down ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#729">[ date ]</a>
              <a href="thread.html#729">[ thread ]</a>
              <a href="subject.html#729">[ subject ]</a>
              <a href="author.html#729">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>El 26/8/2008, a las 1:03, Matt Reynolds escribi√≥:

&gt;<i> I've tried various permutations, with some success, but this is the
</I>&gt;<i> configuration that has yielded the most results.  I'm attempting to
</I>&gt;<i> parse text in two passes, with the first pass catching all line-based
</I>&gt;<i> formatting and the second catching any inter-line formatting.
</I>&gt;<i>
</I>&gt;<i> At this point, I'm just looking for some more general explanation of
</I>&gt;<i> best practices for how to write parsers like this in Ragel.  I've
</I>&gt;<i> followed the examples, and each time I come back to this hobby project
</I>&gt;<i> I understand a little more, but I figured I'd ask if people have
</I>&gt;<i> general tips (or more full fledged examples) of how to write these
</I>&gt;<i> sorts of parsers in Ragel.
</I>&gt;<i>
</I>&gt;<i> I've looked around for other examples of wiki-text parsers and what
</I>&gt;<i> not, but they're generally very complicated and very lengthy, which
</I>&gt;<i> seem to go against the elegance that Ragel embodies.
</I>
I wrote a wikitext translator in C (as a Ruby extension) which uses a  
Ragel-generated lexer and a hand-coded C parser. Probably falls into  
the category of &quot;very complicated and very lengthy&quot; but it still may  
be worth a look:

<A HREF="http://git.wincent.com/wikitext.git">http://git.wincent.com/wikitext.git</A>

It's worth noting that the Ragel part, the lexer, is relatively simple  
and elegant; all of the complexity is in the parser. Compare the Ragel  
lexer:

<A HREF="http://git.wincent.com/wikitext.git?a=blob;f=ext/wikitext_ragel.rl">http://git.wincent.com/wikitext.git?a=blob;f=ext/wikitext_ragel.rl</A>

With the hand-coded C parser:

<A HREF="http://git.wincent.com/wikitext.git?a=blob;f=ext/parser.c">http://git.wincent.com/wikitext.git?a=blob;f=ext/parser.c</A>

Trouble is that if you want to get into stuff like nested lists your  
code _is_ going to get pretty complicated; can't see anyway around  
that. But the payoff is that the translator is very, very fast (thanks  
to Ragel) and very, very robust. To get an idea of the kind of things  
the translator can handle check out the spec (test) suite; here's an  
example of an integration spec that includes a bit of everything:

<A HREF="http://git.wincent.com/wikitext.git?a=blob;f=spec/integration_spec.rb">http://git.wincent.com/wikitext.git?a=blob;f=spec/integration_spec.rb</A>

Cheers,
Wincent



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000728.html">[ragel-users] Ragel pointers
</A></li>
	<LI>Next message: <A HREF="000723.html">SVN server down ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#729">[ date ]</a>
              <a href="thread.html#729">[ thread ]</a>
              <a href="subject.html#729">[ subject ]</a>
              <a href="author.html#729">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">More information about the ragel
mailing list</a><br>
</body></html>
