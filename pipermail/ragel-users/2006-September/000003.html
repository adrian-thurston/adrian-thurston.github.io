<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Minimisation question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel%40colm.net?Subject=Re%3A%20Minimisation%20question&In-Reply-To=%3C45088E85.5020706%40cs.queensu.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000002.html">
   <LINK REL="Next"  HREF="000004.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Minimisation question</H1>
    <B>Adrian Thurston</B> 
    <A HREF="mailto:ragel%40colm.net?Subject=Re%3A%20Minimisation%20question&In-Reply-To=%3C45088E85.5020706%40cs.queensu.ca%3E"
       TITLE="Minimisation question">thurs... at cs.queensu.ca
       </A><BR>
    <I>Wed Sep 13 23:04:37 UTC 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000002.html">Minimisation question
</A></li>
        <LI>Next message: <A HREF="000004.html">Minimisation question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3">[ date ]</a>
              <a href="thread.html#3">[ thread ]</a>
              <a href="subject.html#3">[ subject ]</a>
              <a href="author.html#3">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Colin,

The minimizeEveryOp flag was an experiment I did long ago. Before I had 
Hopcroft's algorithm implemented, minimization was very slow and I wanted to 
see if minimizing at every op would speed it up. I kept it in there for the 
purpose of testing the minimization code. Thus far I haven't needed to use 
it in order to compile a machine. Though I do tend to work with smaller 
machines.

There's no reason not to use it. Perhaps it should be exposed and 
documented. What is the size of the final machine (ragel -s) that you are 
compiling? There may be a state explosion that can be avoided.

-Adrian

Colin Fleming wrote:
&gt;<i> Hi all,
</I>&gt;<i> 
</I>&gt;<i> I'm working on a grammar for parsing XML, according to the XML BNF
</I>&gt;<i> here: <A HREF="http://www.jelks.nu/XML/xmlebnf.html.">http://www.jelks.nu/XML/xmlebnf.html.</A> The grammar is obviously
</I>&gt;<i> fairly complex, and when I tried to compile it Ragel would just keep
</I>&gt;<i> allocating memory until it ran out. I figured it should be possible to
</I>&gt;<i> keep the complexity of the machine low by minimising every time you
</I>&gt;<i> join two machines, and lo and behold I noticed in the code that
</I>&gt;<i> there's a minimizeEveryOp flag, set with the (hidden) -e command line
</I>&gt;<i> flag. With this flag it seems to do a great job, and it seems to
</I>&gt;<i> produce roughly the same machine for the part that I could actually
</I>&gt;<i> compile without that flag. Is there any reason not to use it?
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> Colin
</I>&gt;<i> 
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000002.html">Minimisation question
</A></li>
	<LI>Next message: <A HREF="000004.html">Minimisation question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3">[ date ]</a>
              <a href="thread.html#3">[ thread ]</a>
              <a href="subject.html#3">[ subject ]</a>
              <a href="author.html#3">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">More information about the ragel
mailing list</a><br>
</body></html>
