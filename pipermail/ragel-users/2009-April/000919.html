<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] eof error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20eof%20error&In-Reply-To=%3C49E3FC35.1080308%40complang.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000916.html">
   <LINK REL="Next"  HREF="000924.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] eof error</H1>
    <B>Adrian Thurston</B> 
    <A HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20eof%20error&In-Reply-To=%3C49E3FC35.1080308%40complang.org%3E"
       TITLE="[ragel-users] eof error">thurston at complang.org
       </A><BR>
    <I>Tue Apr 14 03:00:05 UTC 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000916.html">[ragel-users] eof error
</A></li>
        <LI>Next message: <A HREF="000924.html">[ragel-users] Reading from stream instead of buffer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#919">[ date ]</a>
              <a href="thread.html#919">[ thread ]</a>
              <a href="subject.html#919">[ subject ]</a>
              <a href="author.html#919">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Max,

No error, you just need to supply eof since there is a final state with 
an action to execute on the EOF event. In this case it's caused by the 
error action in the Enumerator machine and would also be caused by the 
leaving action applied to Enumerator if Enumerator had any final states. 
You just need to tell Ragel when it's got to the end of the input by 
setting char *eof = pe.

-Adrian

Max Suraev wrote:
&gt;<i> Hello.
</I>&gt;<i> 
</I>&gt;<i> I'm trying to implement simple FSM describing protocol logic.
</I>&gt;<i> 
</I>&gt;<i> ragel gave me no errors and successfully compiled machine but I got
</I>&gt;<i> error from gcc while trying to compile resuls:
</I>&gt;<i> eof not defined.
</I>&gt;<i> 
</I>&gt;<i> Since I do not use such variable in .rl file I guess there is something
</I>&gt;<i> wrong with the way I use code generated by ragel.
</I>&gt;<i> 
</I>&gt;<i> Could you please take a look and point towards possible error?
</I>&gt;<i> 
</I>&gt;<i> Machine is quite simple (3 states, actions are just stubs doing nothing
</I>&gt;<i> but printing) so I'm pretty much stuck at this point.
</I>&gt;<i> 
</I>&gt;<i> Any general critics\recommendations are more than welcome.
</I>&gt;<i> 
</I>&gt;<i> best regards,
</I>&gt;<i> Max.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> ragel-users mailing list
</I>&gt;<i> <A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">ragel-users at complang.org</A>
</I>&gt;<i> <A HREF="http://www.complang.org/mailman/listinfo/ragel-users">http://www.complang.org/mailman/listinfo/ragel-users</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000916.html">[ragel-users] eof error
</A></li>
	<LI>Next message: <A HREF="000924.html">[ragel-users] Reading from stream instead of buffer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#919">[ date ]</a>
              <a href="thread.html#919">[ thread ]</a>
              <a href="subject.html#919">[ subject ]</a>
              <a href="author.html#919">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">More information about the ragel
mailing list</a><br>
</body></html>
