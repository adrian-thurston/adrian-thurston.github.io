<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] Re: fexec bug in v5.15?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Re%3A%20fexec%20bug%20in%20v5.15%3F&In-Reply-To=%3Ccb2ad8b50611052342j11d3643fh44a568bb0d9cd1a3%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="001817.html">
   <LINK REL="Next"  HREF="001819.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] Re: fexec bug in v5.15?</H1>
    <B>Carlos Antunes</B> 
    <A HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Re%3A%20fexec%20bug%20in%20v5.15%3F&In-Reply-To=%3Ccb2ad8b50611052342j11d3643fh44a568bb0d9cd1a3%40mail.gmail.com%3E"
       TITLE="[ragel-users] Re: fexec bug in v5.15?">cmantu... at gmail.com
       </A><BR>
    <I>Mon Nov  6 07:42:43 UTC 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="001817.html">[ragel-users] Re: fexec bug in v5.15?
</A></li>
        <LI>Next message: <A HREF="001819.html">[ragel-users] Re: fexec bug in v5.15?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1818">[ date ]</a>
              <a href="thread.html#1818">[ thread ]</a>
              <a href="subject.html#1818">[ subject ]</a>
              <a href="author.html#1818">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/6/06, Adrian Thurston &lt;<A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">thurs... at cs.queensu.ca</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> As it turns out, it's not safe to manipulate the current pointer in
</I>&gt;<i> pattern actions. I had realized this recently and in 5.15 an error is
</I>&gt;<i> emitted if you use fhold in a pattern action. It didn't occur to me that
</I>&gt;<i> I have to do the same for fexec. I should also put a warning in the docs
</I>&gt;<i> about directly manipulating p in pattern actions.
</I>&gt;<i>
</I>&gt;<i> The reason is that as a part of restarting the scanner, it's sometimes
</I>&gt;<i> necessary to manipulate p. Sometimes you need to shift it back one.
</I>&gt;<i> Other times you need to set it to tokend. Other times you don't need to
</I>&gt;<i> do anything at all. This all depends on the contents of the patterns. So
</I>&gt;<i> if you change p first, you mess the scanner up in ways that are hard to
</I>&gt;<i> predict.
</I>&gt;<i>
</I>
Ok, I see. Maybe fhold and fexec could be allowed in those cases where
the scanner doesn't need to restart? For example { fret; fhold; } or {
fnext whatever; fexec tokstart; }? Basically, fhold and fexec could be
specified in all situations where the scanner knows it wouldn't be
restarted. Is this doable? Obviously, it would also be nice to specify
as an example { fhold; fret } and get the same behavior as { fret;
fhold; }.

Carlos

-- 
&quot;We hold [...] that all men are created equal; that they are
endowed [...] with certain inalienable rights; that among
these are life, liberty, and the pursuit of happiness&quot;
        -- Thomas Jefferson

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001817.html">[ragel-users] Re: fexec bug in v5.15?
</A></li>
	<LI>Next message: <A HREF="001819.html">[ragel-users] Re: fexec bug in v5.15?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1818">[ date ]</a>
              <a href="thread.html#1818">[ thread ]</a>
              <a href="subject.html#1818">[ subject ]</a>
              <a href="author.html#1818">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">More information about the ragel-users
mailing list</a><br>
</body></html>
