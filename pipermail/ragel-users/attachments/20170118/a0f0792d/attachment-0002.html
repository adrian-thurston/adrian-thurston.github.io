<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hello,&lt;br&gt;&lt;br&gt;&lt;/div&gt;In&nbsp;my&nbsp;project&nbsp;I&nbsp;need&nbsp;to&nbsp;extract&nbsp;links&nbsp;from&nbsp;HTML&nbsp;document.&lt;br&gt;&lt;/div&gt;For&nbsp;this&nbsp;purpose&nbsp;I&#39;ve&nbsp;prepared&nbsp;ragel&nbsp;HTML&nbsp;grammar,&nbsp;primarily&nbsp;based&nbsp;on&nbsp;this&nbsp;work:&lt;br&gt;&lt;a&nbsp;href=&quot;https://github.com/brianpane/jitify-core/blob/master/src/core/jitify_html_lexer.rl&quot;&gt;https://github.com/brianpane/jitify-core/blob/master/src/core/jitify_html_lexer.rl&lt;/a&gt;&lt;br&gt;&lt;/div&gt;(mentioned&nbsp;here:&nbsp;&lt;a&nbsp;href=&quot;http://ragel-users.complang.narkive.com/qhjr33zj/ragel-grammars-for-html-css-and-javascript&quot;&gt;http://ragel-users.complang.narkive.com/qhjr33zj/ragel-grammars-for-html-css-and-javascript&lt;/a&gt;&nbsp;)&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;Almost&nbsp;all&nbsp;works&nbsp;well&nbsp;(thanks&nbsp;for&nbsp;the&nbsp;great&nbsp;tool!),&nbsp;except&nbsp;one&nbsp;issue&nbsp;I&nbsp;can&#39;t&nbsp;overcome&nbsp;to&nbsp;date:&lt;br&gt;&lt;br&gt;If&nbsp;I&nbsp;specify&nbsp;this&nbsp;thext&nbsp;as&nbsp;an&nbsp;input:&lt;br&gt;bbbb&nbsp;&lt;a&nbsp;href=&quot;first_link.aspx&quot;&gt;Â &nbsp;cccc&lt;a&nbsp;href=&quot;/second_link.aspx&quot;&gt;&lt;br&gt;&lt;/div&gt;my&nbsp;parser&nbsp;can&nbsp;correctly&nbsp;extract&nbsp;first&nbsp;link,&nbsp;but&nbsp;not&nbsp;the&nbsp;second&nbsp;one.&lt;br&gt;&lt;/div&gt;The&nbsp;difference&nbsp;between&nbsp;them&nbsp;is&nbsp;that&nbsp;there&nbsp;is&nbsp;a&nbsp;space&nbsp;between&nbsp;&#39;bbbb&#39;&nbsp;and&nbsp;&#39;&lt;a&#39;,&nbsp;but&nbsp;no&nbsp;spaces&nbsp;between&nbsp;&#39;cccc&#39;&nbsp;and&nbsp;&#39;&lt;a&#39;.&lt;br&gt;&lt;/div&gt;&lt;br&gt;In&nbsp;general,&nbsp;if&nbsp;any&nbsp;text,&nbsp;except&nbsp;spaces,&nbsp;exists&nbsp;before&nbsp;&#39;&lt;a&#39;&nbsp;tag&nbsp;it&nbsp;makes&nbsp;parses&nbsp;consider&nbsp;it&nbsp;as&nbsp;content,&nbsp;and&nbsp;parser&nbsp;do&nbsp;not&nbsp;recognize&nbsp;tag&nbsp;open.&lt;br&gt;&lt;br&gt;&lt;/div&gt;Could&nbsp;please&nbsp;anyone&nbsp;give&nbsp;any&nbsp;hint&nbsp;how&nbsp;to&nbsp;improve&nbsp;existing&nbsp;grammar,&nbsp;in&nbsp;order&nbsp;to&nbsp;make&nbsp;it&nbsp;recognize&nbsp;tag&nbsp;open?&lt;br&gt;&lt;br&gt;&lt;/div&gt;Please&nbsp;find&nbsp;attached&nbsp;intentionally&nbsp;simplified&nbsp;sample&nbsp;with&nbsp;grammar,&nbsp;aiming&nbsp;to&nbsp;work&nbsp;as&nbsp;C&nbsp;program&nbsp;(&nbsp;ngx_url_html_portion.rl&nbsp;).&lt;br&gt;&lt;/div&gt;There&nbsp;is&nbsp;also&nbsp;input&nbsp;file&nbsp;input-nbsp.html&nbsp;,&nbsp;which&nbsp;expected&nbsp;to&nbsp;contain&nbsp;input&nbsp;for&nbsp;the&nbsp;application.&lt;br&gt;&lt;br&gt;&lt;/div&gt;In&nbsp;order&nbsp;to&nbsp;play&nbsp;with&nbsp;it,&nbsp;make&nbsp;.c-file&nbsp;from&nbsp;grammar:&lt;br&gt;&lt;/div&gt;ragel&nbsp;ngx_url_html_portion.rl&lt;div&gt;&lt;div&gt;&lt;div&gt;then&nbsp;compile&nbsp;resulting&nbsp;.c-file&nbsp;and&nbsp;run&nbsp;programm.&lt;br&gt;&lt;/div&gt;&lt;div&gt;Input&nbsp;file&nbsp;should&nbsp;be&nbsp;in&nbsp;the&nbsp;same&nbsp;directory.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Will&nbsp;be&nbsp;&lt;span&nbsp;id=&quot;gmail-result_box&quot;&nbsp;class=&quot;gmail-short_text&quot;&nbsp;lang=&quot;en&quot;&gt;&lt;span&nbsp;class=&quot;gmail-&quot;&gt;sincerely&nbsp;&lt;/span&gt;&lt;/span&gt;grateful&nbsp;for&nbsp;any&nbsp;clue.&lt;br&gt;&lt;br&gt;--&lt;br&gt;&lt;/div&gt;&lt;div&gt;Andrey&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
