<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] Gearman Protocol
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Gearman%20Protocol&In-Reply-To=%3C4C65CED2.3070800%40esentire.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="001146.html">
   <LINK REL="Next"  HREF="001148.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] Gearman Protocol</H1>
    <B>Adrian Thurston</B> 
    <A HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Gearman%20Protocol&In-Reply-To=%3C4C65CED2.3070800%40esentire.com%3E"
       TITLE="[ragel-users] Gearman Protocol">adrian.thurston at esentire.com
       </A><BR>
    <I>Fri Aug 13 23:01:38 UTC 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001146.html">[ragel-users] Gearman Protocol
</A></li>
        <LI>Next message: <A HREF="001148.html">[ragel-users] Bug or feature?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1147">[ date ]</a>
              <a href="thread.html#1147">[ thread ]</a>
              <a href="subject.html#1147">[ subject ]</a>
              <a href="author.html#1147">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>What you're seeing is a limitation of conditions and large alphabets. To 
implement conditions Ragel eats up characters in the alphabet space. It 
does so quite aggressively (actually eats up bits). The int alphabet 
type doesn't have much space to begin with. The standard remedy is to 
use a smaller alphabet type.

What I need to do is to convert Ragel to internally use variable-size 
alphabet types so this limit is hit less, but that's further down the 
road for Ragel at this time.

-Adrian

On 10-08-11 05:20 PM, Colin Curtin wrote:
&gt;<i> Howdy, I'm trying my hand at a Ragel machine to parse the Gearman
</I>&gt;<i> protocol found here: <A HREF="http://gearman.org/index.php?id=protocol">http://gearman.org/index.php?id=protocol</A>
</I>&gt;<i>
</I>&gt;<i> Here's what I have so far: <A HREF="http://gist.github.com/520065">http://gist.github.com/520065</A>
</I>&gt;<i>
</I>&gt;<i> I'm not sure why, but it's telling me:
</I>&gt;<i>
</I>&gt;<i> $ ragel -R -s gearman.rl
</I>&gt;<i> lexer.rl:117:3: sorry, no more characters are available in the alphabet space
</I>&gt;<i> lexer.rl:117:3:   for conditions, please use a smaller alphtype or reduce
</I>&gt;<i> lexer.rl:117:3:   the span of characters on which conditions are embedded
</I>&gt;<i>
</I>&gt;<i> It seems to be the line &quot;  data        = (any when test_size)*;&quot;
</I>&gt;<i>
</I>&gt;<i> But I'm just going off of the Ragel guide, section 6.5. Is that &quot;when&quot;
</I>&gt;<i> syntax not supported? How can I guarantee the length and data's length
</I>&gt;<i> are the same?
</I>&gt;<i>
</I>&gt;<i> Thanks!
</I>&gt;<i> Colin
</I>&gt;<i>
</I>&gt;<i>
</I>
_______________________________________________
ragel-users mailing list
<A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">ragel-users at complang.org</A>
<A HREF="http://www.complang.org/mailman/listinfo/ragel-users">http://www.complang.org/mailman/listinfo/ragel-users</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001146.html">[ragel-users] Gearman Protocol
</A></li>
	<LI>Next message: <A HREF="001148.html">[ragel-users] Bug or feature?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1147">[ date ]</a>
              <a href="thread.html#1147">[ thread ]</a>
              <a href="subject.html#1147">[ subject ]</a>
              <a href="author.html#1147">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">More information about the ragel
mailing list</a><br>
</body></html>
