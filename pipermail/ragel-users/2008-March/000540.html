<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] Advice on detecting errors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Advice%20on%20detecting%20errors&In-Reply-To=%3C47ED3FE9.2010200%40cs.queensu.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000539.html">
   <LINK REL="Next"  HREF="000541.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] Advice on detecting errors</H1>
    <B>Adrian Thurston</B> 
    <A HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Advice%20on%20detecting%20errors&In-Reply-To=%3C47ED3FE9.2010200%40cs.queensu.ca%3E"
       TITLE="[ragel-users] Advice on detecting errors">thurs... at cs.queensu.ca
       </A><BR>
    <I>Fri Mar 28 18:58:49 UTC 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000539.html">Advice on detecting errors
</A></li>
        <LI>Next message: <A HREF="000541.html">Is there a way to generate non-static variables?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#540">[ date ]</a>
              <a href="thread.html#540">[ thread ]</a>
              <a href="subject.html#540">[ subject ]</a>
              <a href="author.html#540">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Manoj,

If you just want to report where in the input the error occured you can
print the values at (or the location of) p. It is left at the character
the error occurred at.

If you want to give some idea of what was expected when the error
occurred you can use error actions. These are associated with particular
states and can print error messages directly or can set some variable
representing the context. See the relevant section in the manual.

In scanners, if no pattern matches then the state machine moves into the
error state. If you want to create an &quot;else&quot; pattern then put &quot;any&quot; at
the very end of the list of patterns. It will act as a default.

Cheers,
 Adrian


Manoj Rajagopalan wrote:
&gt;<i> Hi all,
</I>&gt;<i> 
</I>&gt;<i>    I have two questions.
</I>&gt;<i> 
</I>&gt;<i> QUESTION 1:
</I>&gt;<i>     I'm not clear on how to detect syntax errors in Ragel. As a simple 
</I>&gt;<i> example, if I want allow a statement:
</I>&gt;<i> 
</I>&gt;<i>     set &lt;name&gt; = &lt;value&gt;;
</I>&gt;<i> 
</I>&gt;<i> for which my pattern would be something like:
</I>&gt;<i> 
</I>&gt;<i>     set_stmt = space*  'set'  (alpha alnum*) space* '=' space* digit+ 
</I>&gt;<i> space* ';'
</I>&gt;<i> 
</I>&gt;<i> and if I provide input like
</I>&gt;<i> 
</I>&gt;<i>     set var = 123bad;
</I>&gt;<i> 
</I>&gt;<i> How can I get Ragel to point out a syntax error here?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> QUESTION 2:
</I>&gt;<i> If I set up a scanner with a list of allowed expressions and ragel 
</I>&gt;<i> encounters an expression that is not on the list, what does it do? Is it 
</I>&gt;<i> possible to create a 'trap' pattern to output an unrecognized or badly 
</I>&gt;<i> formed input?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> Manoj
</I>&gt;<i> 
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000539.html">Advice on detecting errors
</A></li>
	<LI>Next message: <A HREF="000541.html">Is there a way to generate non-static variables?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#540">[ date ]</a>
              <a href="thread.html#540">[ thread ]</a>
              <a href="subject.html#540">[ subject ]</a>
              <a href="author.html#540">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">More information about the ragel
mailing list</a><br>
</body></html>
