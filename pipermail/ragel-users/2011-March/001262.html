<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] Trouble referencing definitions from included	machines (6.6)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Trouble%20referencing%20definitions%20from%0A%20included%09machines%20%286.6%29&In-Reply-To=%3C4D88F2FB.7020005%40esentire.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="001261.html">
   <LINK REL="Next"  HREF="001263.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] Trouble referencing definitions from included	machines (6.6)</H1>
    <B>Adrian Thurston</B> 
    <A HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Trouble%20referencing%20definitions%20from%0A%20included%09machines%20%286.6%29&In-Reply-To=%3C4D88F2FB.7020005%40esentire.com%3E"
       TITLE="[ragel-users] Trouble referencing definitions from included	machines (6.6)">adrian.thurston at esentire.com
       </A><BR>
    <I>Tue Mar 22 19:05:31 UTC 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001261.html">[ragel-users] Trouble referencing definitions from included	machines (6.6)
</A></li>
        <LI>Next message: <A HREF="001263.html">[ragel-users] Trouble referencing definitions from included	machines (6.6)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1262">[ date ]</a>
              <a href="thread.html#1262">[ thread ]</a>
              <a href="subject.html#1262">[ subject ]</a>
              <a href="author.html#1262">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've been unable to reproduce this problem using the ragel 6.6 
distribution tarball on my ubuntu lucid system. Can you tell me which 
architecture you are on? Where did you get the build? Also, could you 
attach an strace log?

Thanks,
  Adrian

On 11-03-22 11:27 AM, Austin Hastings wrote:
&gt;<i> Howdy,
</I>&gt;<i>
</I>&gt;<i> I was playing a bit with Ragel, and trying to include one machine from
</I>&gt;<i> another. I spent some time with a &quot;graph lookup ... failed&quot; error, until
</I>&gt;<i> I put my test file in the same place.
</I>&gt;<i>
</I>&gt;<i> As a test case, I have this:
</I>&gt;<i>
</I>&gt;<i> ===== testinc.rl =====
</I>&gt;<i> %%{
</I>&gt;<i> machine inner;
</I>&gt;<i> one = &quot;one&quot;;
</I>&gt;<i> two = &quot;two&quot;;
</I>&gt;<i> }%%
</I>&gt;<i> ===== test.rl =====
</I>&gt;<i> %%{
</I>&gt;<i> machine test;
</I>&gt;<i> include inner &quot;testinc.rl&quot;;
</I>&gt;<i>
</I>&gt;<i> main := one;
</I>&gt;<i> }%%
</I>&gt;<i> ===== =====
</I>&gt;<i>
</I>&gt;<i> When I have test.rl and testinc.rl in the same directory, I can do
</I>&gt;<i>
</I>&gt;<i> ragel test.rl
</I>&gt;<i>
</I>&gt;<i> with no problems. When I move testinc.rl to a different directory:
</I>&gt;<i>
</I>&gt;<i> mkdir x
</I>&gt;<i> mv testinc.rl x
</I>&gt;<i> ragel test.rl
</I>&gt;<i>
</I>&gt;<i> I get errors (as expected):
</I>&gt;<i>
</I>&gt;<i> test.rl:3:28: include: failed to locate file
</I>&gt;<i> test.rl:3:28: include: attempted: &quot;testinc.rl&quot;
</I>&gt;<i> test.rl:5:10: graph lookup of &quot;one&quot; failed
</I>&gt;<i>
</I>&gt;<i> When I then specify the include path:
</I>&gt;<i>
</I>&gt;<i> ragel -I x test.rl
</I>&gt;<i>
</I>&gt;<i> I get:
</I>&gt;<i>
</I>&gt;<i> $ ragel -I x test.rl
</I>&gt;<i> test.rl:5:10: graph lookup of &quot;one&quot; failed
</I>&gt;<i>
</I>&gt;<i> Apparently ragel now finds the included file okay, but for some reason
</I>&gt;<i> the exact same file which worked before has problems with finding the
</I>&gt;<i> &quot;one&quot; tag.
</I>&gt;<i>
</I>&gt;<i> What am I doing wrong, or is this a bug?
</I>&gt;<i>
</I>&gt;<i> =Austin
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> ragel-users mailing list
</I>&gt;<i> <A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">ragel-users at complang.org</A>
</I>&gt;<i> <A HREF="http://www.complang.org/mailman/listinfo/ragel-users">http://www.complang.org/mailman/listinfo/ragel-users</A>
</I>&gt;<i>
</I>
_______________________________________________
ragel-users mailing list
<A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">ragel-users at complang.org</A>
<A HREF="http://www.complang.org/mailman/listinfo/ragel-users">http://www.complang.org/mailman/listinfo/ragel-users</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001261.html">[ragel-users] Trouble referencing definitions from included	machines (6.6)
</A></li>
	<LI>Next message: <A HREF="001263.html">[ragel-users] Trouble referencing definitions from included	machines (6.6)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1262">[ date ]</a>
              <a href="thread.html#1262">[ thread ]</a>
              <a href="subject.html#1262">[ subject ]</a>
              <a href="author.html#1262">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">More information about the ragel
mailing list</a><br>
</body></html>
