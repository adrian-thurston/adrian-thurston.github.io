<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] combining ragel and lemon
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20combining%20ragel%20and%20lemon&In-Reply-To=%3C05a27548e93198f9bf09f1e54b09ee48%40mail.colm.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="003631.html">
   <LINK REL="Next"  HREF="003633.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] combining ragel and lemon</H1>
    <B>Adrian Thurston</B> 
    <A HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20combining%20ragel%20and%20lemon&In-Reply-To=%3C05a27548e93198f9bf09f1e54b09ee48%40mail.colm.net%3E"
       TITLE="[ragel-users] combining ragel and lemon">thurston at colm.net
       </A><BR>
    <I>Fri Aug 16 15:57:21 EDT 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="003631.html">[ragel-users] combining ragel and lemon
</A></li>
        <LI>Next message: <A HREF="003633.html">[ragel-users] combining ragel and lemon
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3632">[ date ]</a>
              <a href="thread.html#3632">[ thread ]</a>
              <a href="subject.html#3632">[ subject ]</a>
              <a href="author.html#3632">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Mark,

You can return from the scanner pattern action if you like. You can also 
craft a machine that that just attempts to match one token, then return 
the token. If you want to stay faithful to lex semantics, you have to 
take some care to implement the &quot;longest-match&quot; characteristic yourself.

But from what I've seen, lemon lets you pass in one token at a time. 
This is just one example I found, but there seems to be more.

<A HREF="https://github.com/eloraiby/rl-json-parser/blob/master/json-parser/lexer.rl">https://github.com/eloraiby/rl-json-parser/blob/master/json-parser/lexer.rl</A>

Adrian

On 2019-08-16 11:07, Mark Olesen wrote:
&gt;<i> I've use ragel in a few places already for parsing, but now I'm looking
</I>&gt;<i> to port over a medium sized chunk of flex/bison. Perhaps going for a
</I>&gt;<i> ragel/lemon combination.
</I>&gt;<i> 
</I>&gt;<i> According to the lemon docs (<A HREF="https://www.hwaci.com/sw/lemon/lemon.html">https://www.hwaci.com/sw/lemon/lemon.html</A>)
</I>&gt;<i> the parser is the one calling the lexer. But this seems to be the same
</I>&gt;<i> as ragel would like to be doing: match a pattern, call an action.
</I>&gt;<i> 
</I>&gt;<i> The few examples of ragel/lemon that I've found (the classic 
</I>&gt;<i> calculator,
</I>&gt;<i> or a json parser) seem to be handling this by running ragel as the
</I>&gt;<i> scanner, and calling the lemon parser in its actions.
</I>&gt;<i> 
</I>&gt;<i> Some other examples I've seen use re2c for the lexing part. This 
</I>&gt;<i> appears
</I>&gt;<i> to fit better with what lemon expects, but there must be some way to 
</I>&gt;<i> lex
</I>&gt;<i> a single token and return from ragel I suspect.
</I>&gt;<i> 
</I>&gt;<i> I would be thankful for ideas.
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> /mark
</I>&gt;<i> _______________________________________________
</I>&gt;<i> ragel-users mailing list
</I>&gt;<i> <A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">ragel-users at colm.net</A>
</I>&gt;<i> <A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users</A>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003631.html">[ragel-users] combining ragel and lemon
</A></li>
	<LI>Next message: <A HREF="003633.html">[ragel-users] combining ragel and lemon
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3632">[ date ]</a>
              <a href="thread.html#3632">[ thread ]</a>
              <a href="subject.html#3632">[ subject ]</a>
              <a href="author.html#3632">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">More information about the ragel-users
mailing list</a><br>
</body></html>
