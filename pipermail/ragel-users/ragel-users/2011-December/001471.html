<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] Improving perf of the Java code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Improving%20perf%20of%20the%20Java%20code&In-Reply-To=%3CCAE-f1xQ5Tz3eQCARdv1GUE2jRQj0u3MSRP257oj3otqD%2BgsAkQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="001470.html">
   <LINK REL="Next"  HREF="001472.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] Improving perf of the Java code</H1>
    <B>Charles Oliver Nutter</B> 
    <A HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Improving%20perf%20of%20the%20Java%20code&In-Reply-To=%3CCAE-f1xQ5Tz3eQCARdv1GUE2jRQj0u3MSRP257oj3otqD%2BgsAkQ%40mail.gmail.com%3E"
       TITLE="[ragel-users] Improving perf of the Java code">headius at headius.com
       </A><BR>
    <I>Wed Dec 21 06:30:43 UTC 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001470.html">[ragel-users] answering questions about ragel
</A></li>
        <LI>Next message: <A HREF="001472.html">[ragel-users] Improving perf of the Java code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1471">[ date ]</a>
              <a href="thread.html#1471">[ thread ]</a>
              <a href="subject.html#1471">[ subject ]</a>
              <a href="author.html#1471">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello!

I work on JRuby, the Ruby implementation for the JVM. As you may know,
Ruby users have latched on to Ragel for a number of parser tasks, such
as json, http, various markup languages, and so on.

I have spent the last day trying to optimize a Ragel-generated json
parser used as an extension to JRuby, and despite my best efforts I
can't get it more than about 2x slower than the version for C Ruby.
This is especially poor considering the Ruby code that surrounds it
should run significantly faster on JRuby, and it still doesn't make up
the gap.

I'm wondering what, if anything, can be done to improve the
performance of the generated Java code. I notice that Java is only
supported in the simplest output form, presumably because of the lack
of &quot;goto&quot;. I'm interested in exploring options to bring the Java code
up to par with the generated code for other languages, perhaps by
implementing it using raw JVM bytecode (using some assembly-like
format like BiteScript or Jasmin) or by post-processing the compiled
result to insert true gotos.

Any pointers on this? Any prior work or tips?

- Charlie

_______________________________________________
ragel-users mailing list
<A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">ragel-users at complang.org</A>
<A HREF="http://www.complang.org/mailman/listinfo/ragel-users">http://www.complang.org/mailman/listinfo/ragel-users</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001470.html">[ragel-users] answering questions about ragel
</A></li>
	<LI>Next message: <A HREF="001472.html">[ragel-users] Improving perf of the Java code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1471">[ date ]</a>
              <a href="thread.html#1471">[ thread ]</a>
              <a href="subject.html#1471">[ subject ]</a>
              <a href="author.html#1471">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">More information about the ragel
mailing list</a><br>
</body></html>
