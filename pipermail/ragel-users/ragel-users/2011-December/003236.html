<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] Improving perf of the Java code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Improving%20perf%20of%20the%20Java%20code&In-Reply-To=%3C1324486925.7458.5.camel%40conrad-MacBookPro%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="003235.html">
   <LINK REL="Next"  HREF="003237.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] Improving perf of the Java code</H1>
    <B>Conrad Steenberg</B> 
    <A HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Improving%20perf%20of%20the%20Java%20code&In-Reply-To=%3C1324486925.7458.5.camel%40conrad-MacBookPro%3E"
       TITLE="[ragel-users] Improving perf of the Java code">conrad.steenberg at gmail.com
       </A><BR>
    <I>Wed Dec 21 17:02:05 UTC 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003235.html">[ragel-users] Improving perf of the Java code
</A></li>
        <LI>Next message: <A HREF="003237.html">[ragel-users] Improving perf of the Java code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3236">[ date ]</a>
              <a href="thread.html#3236">[ thread ]</a>
              <a href="subject.html#3236">[ subject ]</a>
              <a href="author.html#3236">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Charlie,

I addition to looking at a bytecode generator, you might also look at
generating code for another JVM language that does have support for
goto. That language might even be C, if you can get the resulting code
to generate the JRuby objects you need.

See <A HREF="http://en.wikipedia.org/wiki/List_of_JVM_languages">http://en.wikipedia.org/wiki/List_of_JVM_languages</A>

On Wed, 2011-12-21 at 00:30 -0600, Charles Oliver Nutter wrote:
&gt;<i> Hello!
</I>&gt;<i> 
</I>&gt;<i> I work on JRuby, the Ruby implementation for the JVM. As you may know,
</I>&gt;<i> Ruby users have latched on to Ragel for a number of parser tasks, such
</I>&gt;<i> as json, http, various markup languages, and so on.
</I>&gt;<i> 
</I>&gt;<i> I have spent the last day trying to optimize a Ragel-generated json
</I>&gt;<i> parser used as an extension to JRuby, and despite my best efforts I
</I>&gt;<i> can't get it more than about 2x slower than the version for C Ruby.
</I>&gt;<i> This is especially poor considering the Ruby code that surrounds it
</I>&gt;<i> should run significantly faster on JRuby, and it still doesn't make up
</I>&gt;<i> the gap.
</I>&gt;<i> 
</I>&gt;<i> I'm wondering what, if anything, can be done to improve the
</I>&gt;<i> performance of the generated Java code. I notice that Java is only
</I>&gt;<i> supported in the simplest output form, presumably because of the lack
</I>&gt;<i> of &quot;goto&quot;. I'm interested in exploring options to bring the Java code
</I>&gt;<i> up to par with the generated code for other languages, perhaps by
</I>&gt;<i> implementing it using raw JVM bytecode (using some assembly-like
</I>&gt;<i> format like BiteScript or Jasmin) or by post-processing the compiled
</I>&gt;<i> result to insert true gotos.
</I>&gt;<i> 
</I>&gt;<i> Any pointers on this? Any prior work or tips?
</I>&gt;<i> 
</I>&gt;<i> - Charlie
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> ragel-users mailing list
</I>&gt;<i> <A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">ragel-users at complang.org</A>
</I>&gt;<i> <A HREF="http://www.complang.org/mailman/listinfo/ragel-users">http://www.complang.org/mailman/listinfo/ragel-users</A>
</I>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 490 bytes
Desc: This is a digitally signed message part
URL: &lt;<A HREF="http://www.colm.net/pipermail/ragel-users/attachments/20111221/c80ff5c7/attachment-0001.sig">http://www.colm.net/pipermail/ragel-users/attachments/20111221/c80ff5c7/attachment-0001.sig</A>&gt;
-------------- next part --------------
_______________________________________________
ragel-users mailing list
<A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">ragel-users at complang.org</A>
<A HREF="http://www.complang.org/mailman/listinfo/ragel-users">http://www.complang.org/mailman/listinfo/ragel-users</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003235.html">[ragel-users] Improving perf of the Java code
</A></li>
	<LI>Next message: <A HREF="003237.html">[ragel-users] Improving perf of the Java code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3236">[ date ]</a>
              <a href="thread.html#3236">[ thread ]</a>
              <a href="subject.html#3236">[ subject ]</a>
              <a href="author.html#3236">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">More information about the ragel-users
mailing list</a><br>
</body></html>
