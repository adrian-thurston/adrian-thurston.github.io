<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> making fgoto a no-op
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel%40colm.net?Subject=Re%3A%20making%20fgoto%20a%20no-op&In-Reply-To=%3C1dba5c7f-c254-4a1d-a85b-93dc1d61380a%40d45g2000hsc.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000577.html">
   <LINK REL="Next"  HREF="000579.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>making fgoto a no-op</H1>
    <B>Martin Pirker</B> 
    <A HREF="mailto:ragel%40colm.net?Subject=Re%3A%20making%20fgoto%20a%20no-op&In-Reply-To=%3C1dba5c7f-c254-4a1d-a85b-93dc1d61380a%40d45g2000hsc.googlegroups.com%3E"
       TITLE="making fgoto a no-op">Martin.Pir... at iaik.tugraz.at
       </A><BR>
    <I>Tue Apr 22 12:19:39 UTC 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000577.html">[ragel-users] making fgoto a no-op
</A></li>
        <LI>Next message: <A HREF="000579.html">making fgoto a no-op
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#578">[ date ]</a>
              <a href="thread.html#578">[ thread ]</a>
              <a href="subject.html#578">[ subject ]</a>
              <a href="author.html#578">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi...

On Apr 21, 10:50 am, Adrian Thurston &lt;<A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">thurs... at cs.queensu.ca</A>&gt; wrote:
&gt;<i> In the -G2 machine cs isn't always kept up to date inside the execution
</I>&gt;<i> loop.
</I>
I guessed that my approach is not portable across all backends,
thanks for confirming.

&gt;<i> You could init another variable using
</I>&gt;<i> int targ_cs = ftargs;
</I>&gt;<i> and then base the logic on that.
</I>
By expanding the logic in check_data action I can easily test for a
return value and then fgoto to error if needed. Unfortunately, this
would
require duplication of this logic in every similar action in the .rl
file,
which I want to prevent (bloating, languages portability)

Instead of the cs hack I could pass ftargs or fcurs as another
parameter
to the native language side, return the desired target as return value
and
then always fgoto.
This approach does not work in case of something like:
... (&quot;whatever&quot; %check_data)*  %something &quot;newinput&quot; ...
In case of no error the fgoto omits %something and continues
at newinput (=next state), thus the fgoto is never a real no-op.
(As far as my experiments showed).


I guess I have to sleep over this once more... :-)

Martin

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000577.html">[ragel-users] making fgoto a no-op
</A></li>
	<LI>Next message: <A HREF="000579.html">making fgoto a no-op
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#578">[ date ]</a>
              <a href="thread.html#578">[ thread ]</a>
              <a href="subject.html#578">[ subject ]</a>
              <a href="author.html#578">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">More information about the ragel
mailing list</a><br>
</body></html>
