<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] How to distinguish between two machines from within the same action?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20How%20to%20distinguish%20between%20two%20machines%20from%0A%20within%20the%20same%20action%3F&In-Reply-To=%3C4E6934FB.6060307%40complang.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="003194.html">
   <LINK REL="Next"  HREF="003195.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] How to distinguish between two machines from within the same action?</H1>
    <B>Adrian Thurston</B> 
    <A HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20How%20to%20distinguish%20between%20two%20machines%20from%0A%20within%20the%20same%20action%3F&In-Reply-To=%3C4E6934FB.6060307%40complang.org%3E"
       TITLE="[ragel-users] How to distinguish between two machines from within the same action?">thurston at complang.org
       </A><BR>
    <I>Thu Sep  8 21:34:51 UTC 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003194.html">[ragel-users] How to distinguish between two machines from within the same action?
</A></li>
        <LI>Next message: <A HREF="003195.html">[ragel-users] Trying to answer my own Ruby and Ragel questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3197">[ date ]</a>
              <a href="thread.html#3197">[ thread ]</a>
              <a href="subject.html#3197">[ subject ]</a>
              <a href="author.html#3197">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You're using from-state actions, which isn't going to give you the 
desired results. Use &gt; and % instead, then go from there. If you use %* 
on digits, it will execute on every character since the final state is 
going back into itself to implement the repetition.

Remember that graphviz will help you immensely with debugging. You can 
look at the result of compiling specific rules in your grammar.

On 09/08/11 14:06, François Beausoleil wrote:
&gt;<i>   Hey folks!
</I>&gt;<i>
</I>&gt;<i> I'm writing the &quot;definitive&quot; URL parser class. Lofty goal, perhaps, but also a learning exercise. I have an issue with entering and leaving actions.
</I>&gt;<i>
</I>&gt;<i> My code's on GitHub: <A HREF="https://github.com/francois/urlparser/blob/master/url.rl#L34">https://github.com/francois/urlparser/blob/master/url.rl#L34</A>
</I>&gt;<i>
</I>&gt;<i> Given the following two URLs:
</I>&gt;<i>
</I>&gt;<i> <A HREF="tcp://127.0.0.1:1234">tcp://127.0.0.1:1234</A>
</I>&gt;<i> <A HREF="tcp://a:b@127.0.0.1:1234/">tcp://a:b@127.0.0.1:1234/</A>
</I>&gt;<i>
</I>&gt;<i> For both URLs, I correctly recognize the scheme. For both URLs, either user or hostname is wrong, and in both cases, the port's not recognized.
</I>&gt;<i>
</I>&gt;<i> My Ruby implementation is at <A HREF="https://github.com/francois/urlparser/blob/master/ruby/lib/urlparser/parser.rl#L14">https://github.com/francois/urlparser/blob/master/ruby/lib/urlparser/parser.rl#L14</A>
</I>&gt;<i>
</I>&gt;<i> My question boils down to: how do I definitively know that what I'm looking at is a user, vs a hostname, since both have nearly the same set of characters. Should I be using &quot;State Action Embedding Operators&quot;? Actually, scratch that: it seems that's what I should be doing, because I managed to recognize the host in some cases. For the first URL above, I can recognize most of the port: I end up with 123, not 1234, thus losing the last character.
</I>&gt;<i>
</I>&gt;<i> A little pointer to some existing parser with the similar behavior would be appreciated.
</I>&gt;<i>
</I>&gt;<i> Thanks!
</I>&gt;<i> François
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> ragel-users mailing list
</I>&gt;<i> <A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">ragel-users at complang.org</A>
</I>&gt;<i> <A HREF="http://www.complang.org/mailman/listinfo/ragel-users">http://www.complang.org/mailman/listinfo/ragel-users</A>
</I>
_______________________________________________
ragel-users mailing list
<A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">ragel-users at complang.org</A>
<A HREF="http://www.complang.org/mailman/listinfo/ragel-users">http://www.complang.org/mailman/listinfo/ragel-users</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003194.html">[ragel-users] How to distinguish between two machines from within the same action?
</A></li>
	<LI>Next message: <A HREF="003195.html">[ragel-users] Trying to answer my own Ruby and Ragel questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3197">[ date ]</a>
              <a href="thread.html#3197">[ thread ]</a>
              <a href="subject.html#3197">[ subject ]</a>
              <a href="author.html#3197">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">More information about the ragel-users
mailing list</a><br>
</body></html>
