From bww00amd... at yahoo.com  Mon Apr  2 21:25:08 2007
From: bww00amd... at yahoo.com (bww00amd... at yahoo.com)
Date: Mon, 02 Apr 2007 14:25:08 -0700
Subject: Help running the ruby tests specific atoi3
Message-ID: <1175549108.499771.287630@p77g2000hsh.googlegroups.com>

Hey,
I'm trying to get started and wanted to run the atoi3 test.
any doc on rlgen-ruby ??? and running the atoi3 test.

Thanks for the help

bryan Webb


From thurs... at cs.queensu.ca  Tue Apr  3 20:33:29 2007
From: thurs... at cs.queensu.ca (Adrian Thurston)
Date: Tue, 03 Apr 2007 16:33:29 -0400
Subject: [ragel-users] Help running the ruby tests specific atoi3
In-Reply-To: <1175549108.499771.287630@p77g2000hsh.googlegroups.com>
References: <1175549108.499771.287630@p77g2000hsh.googlegroups.com>
Message-ID: <4612BA19.1000802@cs.queensu.ca>

Hi, you can run the ruby atoi3 test with the command:

./runtests atoi3.rl

Keep in mind that the ruby code generation is not yet complete. For
example, if you try to create a scanner you will find some java code in
there as it was derived from the java code generator.

-Adrian

bww00amd... at yahoo.com wrote:
> Hey,
> I'm trying to get started and wanted to run the atoi3 test.
> any doc on rlgen-ruby ??? and running the atoi3 test.
> 
> Thanks for the help
> 
> bryan Webb
> 
> 
> --~--~---------~--~----~------------~-------~--~----~
> You received this message because you are subscribed to the Google Groups "ragel-users" group.
> To post to this group, send email to ragel-users at googlegroups.com
> To unsubscribe from this group, send email to ragel-users-unsubscribe at googlegroups.com
> For more options, visit this group at http://groups.google.com/group/ragel-users?hl=en
> -~----------~----~----~----~------~----~------~--~---

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
URL: <http://www.colm.net/pipermail/ragel/attachments/20070403/894d91d5/attachment.sig>

From bww00amd... at yahoo.com  Mon Apr  2 22:22:15 2007
From: bww00amd... at yahoo.com (bww00amd... at yahoo.com)
Date: Mon, 02 Apr 2007 15:22:15 -0700
Subject: Also looking for simple java examples
Message-ID: <1175552535.080059.125550@y80g2000hsf.googlegroups.com>

Also looking for simple java examples

Thanks
Bryan Webb


From thurs... at cs.queensu.ca  Tue Apr  3 20:41:33 2007
From: thurs... at cs.queensu.ca (Adrian Thurston)
Date: Tue, 03 Apr 2007 16:41:33 -0400
Subject: [ragel-users] Also looking for simple java examples
In-Reply-To: <1175552535.080059.125550@y80g2000hsf.googlegroups.com>
References: <1175552535.080059.125550@y80g2000hsf.googlegroups.com>
Message-ID: <4612BBFD.4090302@cs.queensu.ca>

Hi,

Run this in the test directory to see which tests are java specific:

grep '@LANG: java' *.rl

Test cases with '@LANG: indep' in them also apply to Java. You need TXL
(www.txl.ca) installed to generate a Java test case from the language
independent file. The language independent tests are run with the
runtests script.

Cheers,
 Adrian

bww00amd... at yahoo.com wrote:
> Also looking for simple java examples
> 
> Thanks
> Bryan Webb
> 
> 
> --~--~---------~--~----~------------~-------~--~----~
> You received this message because you are subscribed to the Google Groups "ragel-users" group.
> To post to this group, send email to ragel-users at googlegroups.com
> To unsubscribe from this group, send email to ragel-users-unsubscribe at googlegroups.com
> For more options, visit this group at http://groups.google.com/group/ragel-users?hl=en
> -~----------~----~----~----~------~----~------~--~---

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
URL: <http://www.colm.net/pipermail/ragel/attachments/20070403/eb39864a/attachment.sig>

From r.lp... at gmail.com  Fri Apr  6 07:25:10 2007
From: r.lp... at gmail.com (Paul)
Date: Fri, 6 Apr 2007 19:25:10 +1200
Subject: 'string' ranges
Message-ID: <200704061925.10116.paul@findlay.net.nz>

Hello all,

I'm wanting my ragel state machine to process unicode text encoded as utf-8. 
There are some unicode ranges that I want to transition on e.g.

range = [0x0ED0-0x0ED9];

but I don't know how to express this in a minimal way with an unsigned char 
alphabet (i.e. I don't think it can be done directly in ragel's expression 
syntax).

My brain isn't in the best condition, but the two approaches I have thought 
of:
1.) use a script to write out the set of strings in the range and leave it to 
ragel to minimise the states (or something like this)
2.) use ragel's semantic conditions somehow.. (assemble utf-32 version and use 
integer comparison)

But before I attempt either, has anyone had to do anything similar? Or are 
there any suggestions I could use?

Thanks, and have a good Easter

 - Paul


From thurs... at cs.queensu.ca  Fri Apr  6 14:38:27 2007
From: thurs... at cs.queensu.ca (Adrian Thurston)
Date: Fri, 06 Apr 2007 10:38:27 -0400
Subject: [ragel-users] 'string' ranges
In-Reply-To: <200704061925.10116.paul@findlay.net.nz>
References: <200704061925.10116.paul@findlay.net.nz>
Message-ID: <46165B63.9080903@cs.queensu.ca>

Hi Paul,

I think in theory enumerating all the possibilities with a script then
leaving it up to the minimization routine would work. Though it might
end up taking forever to compile.

Semantic conditions could be made to work, but I would advise trying to
express the ranges directly. If that doesn't work well (or maybe if it
generates too many states) you could go the semantic condition route.

To express them directly assemble the ranges byte by byte and then
section by section. I've never done this in a real program so if you try
it out (or one of the other techniques) would you mind sending a message
to the list to say how it went?

alphtype unsigned char;

# 0x0ED0-0x0ED9
r1 = 0x0D ( 0xD0 .. 0xD9 );

# 0x0A07-0x0D40
r2 =
	0x0A ( 0x07 .. 0xFF ) |
	( 0x0B | 0x0C ) any |
	0x0D ( 0x00 .. 0x40 );

You're probably aware of this but I'll mention it just to put it out
there ... for a really simple solution you can always process in two
passes. First expand to a fixed-width character then change the alphabet
type to short or int and process with Ragel.

Regards,
 Adrian


Paul wrote:
> Hello all,
> 
> I'm wanting my ragel state machine to process unicode text encoded as utf-8. 
> There are some unicode ranges that I want to transition on e.g.
> 
> range = [0x0ED0-0x0ED9];
> 
> but I don't know how to express this in a minimal way with an unsigned char 
> alphabet (i.e. I don't think it can be done directly in ragel's expression 
> syntax).
> 
> My brain isn't in the best condition, but the two approaches I have thought 
> of:
> 1.) use a script to write out the set of strings in the range and leave it to 
> ragel to minimise the states (or something like this)
> 2.) use ragel's semantic conditions somehow.. (assemble utf-32 version and use 
> integer comparison)
> 
> But before I attempt either, has anyone had to do anything similar? Or are 
> there any suggestions I could use?
> 
> Thanks, and have a good Easter
> 
>  - Paul
> 
> --~--~---------~--~----~------------~-------~--~----~
> You received this message because you are subscribed to the Google Groups "ragel-users" group.
> To post to this group, send email to ragel-users at googlegroups.com
> To unsubscribe from this group, send email to ragel-users-unsubscribe at googlegroups.com
> For more options, visit this group at http://groups.google.com/group/ragel-users?hl=en
> -~----------~----~----~----~------~----~------~--~---

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
URL: <http://www.colm.net/pipermail/ragel/attachments/20070406/f965fc6d/attachment.sig>

From r.lp... at gmail.com  Sat Apr  7 08:54:09 2007
From: r.lp... at gmail.com (Paul)
Date: Sat, 7 Apr 2007 20:54:09 +1200
Subject: [ragel-users] Re: 'string' ranges
In-Reply-To: <46165B63.9080903@cs.queensu.ca>
References: <200704061925.10116.paul@findlay.net.nz> <46165B63.9080903@cs.queensu.ca>
Message-ID: <200704072054.09086.p...@findlay.net.nz>

> would you mind sending a message to the list to say how it went?
Thanks Adrian, yeah I will remember to do that when I get to a good solution.

> # 0x0A07-0x0D40
> r2 =
> 	0x0A ( 0x07 .. 0xFF ) |
> 	( 0x0B | 0x0C ) any |
> 	0x0D ( 0x00 .. 0x40 );
For now, I will attempt to run with this...

I have a script taking my unicode ranges, converting them to UTF-8 character 
ranges.. and then running those through a hackish set of regular expressions 
to get something like

(
	(0xE4 0xB8 (0x80 .. 0xFF)) |
	((0xE5 .. 0xE8) any{2}) |
	(0xE9 (((0x00 .. 0xBD) any) |
	(0xBE (0x00 .. 0xA5))))
)

from the unicode range [0x4E00-0x9FA5]

> You're probably aware of this but I'll mention it just to put it out
> there ... [snip]
Yeah, although, the majority of my transitions are on ascii characters and I'm 
only wanting to handle proper UTF-8 strings instead of (any -- ascii)* to be 
ultra neurotic in a few cases. I wanted to see what happens to the number of 
states and average performance before moving to another UTF character set or 
abandoning the extra correctness.

Thanks again,

 - Paul


From thurs... at cs.queensu.ca  Sat Apr  7 16:28:43 2007
From: thurs... at cs.queensu.ca (Adrian Thurston)
Date: Sat, 07 Apr 2007 12:28:43 -0400
Subject: plans for 6.0
Message-ID: <4617C6BB.6060503@cs.queensu.ca>

Hello List Memebers,

Sometime soon I will start working on a 6.0 release. I had thought
version 5 would be the last major release for a long time ... as I did
with 4 and 3. Funny how that never sticks. Anyways, these changes will
not preserve backwards compatibility and consequently will require some
porting effort. Though it should be minimal.

Other stuff will probably creep in, but these are the items which I want
the most. Many thanks to those involved in discussions which lead to
some of these.

Regards,
 Adrian

CHANGES FOR 6.0:

Expressions of the form: ( expr1 <: expr2 . expr3 ) sometimes don't
behave as expected. If expr2 contains the empty string then it's
possible for the machine to escape to expr3. This is somewhat
unexpected.  The empty string does count as moving through the right
machine so there should not be an exception for this case. Using the
stronger implementation: ( expr1 $1 %0 . expr2 ) will solve the problem.

Also, there is potential for nondeterminism to persist via the empty
string with the :> and :>> operators. Should also guard against this
using leaving priorities.

fbreak should advance the current char. Depreciate fbreak and add
    fctl_break;
    fctl_return <expr>;
    fctl_goto <label>;

fbreak should execute the to-state actions of the target state. The
semantics of fbreak should be identical to reaching the end of a buffer
block.

Introduce a new variable "eof" which is a pointer like pe. It gets set
to pe when the input has ended. This would enable eof actions to go into
the main loop, granting them the ability to manipulate p and cs. This
would free us from requiring some eof character to be sent to scanners
to 'flush out' the last token.  Instead an eof action can now execute
scanner pattern actions and backtrack if necessary.

The tokstart/tokend variable should be shortened to ts/te.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
URL: <http://www.colm.net/pipermail/ragel/attachments/20070407/3908f9a6/attachment.sig>

From daniel.venkitacha... at gmail.com  Tue Apr 10 13:56:49 2007
From: daniel.venkitacha... at gmail.com (Dan V.)
Date: Tue, 10 Apr 2007 06:56:49 -0700
Subject: Newbie question: machine actions
Message-ID: <1176213409.036935.150470@n76g2000hsh.googlegroups.com>

Hi.  I'm wondering what an embedded action in a machine without a (>,
$, @ %) symbol means.  For example, in cppscan.rl identifiers are
matched with:

    # Identifiers
    ( [a-zA-Z_] [a-zA-Z0-9_]* )
        {token( TK_Id );};

On what condition does token() get called?


From thurs... at cs.queensu.ca  Tue Apr 10 14:31:30 2007
From: thurs... at cs.queensu.ca (Adrian Thurston)
Date: Tue, 10 Apr 2007 10:31:30 -0400
Subject: [ragel-users] Newbie question: machine actions
In-Reply-To: <1176213409.036935.150470@n76g2000hsh.googlegroups.com>
References: <1176213409.036935.150470@n76g2000hsh.googlegroups.com>
Message-ID: <461B9FC2.2020906@cs.queensu.ca>

Hi Dan,

The action is a scanner pattern action. It can only exist inside a
scanner and gets invoked when the scanner logic determines a pattern has
matched. They function the same as the actions in lex. See section 6.3
in the manual for more information. Note that the => symbol in front of
the code block is optional and has been left out of this example.

Cheers,
 Adrian

Dan V. wrote:
> Hi.  I'm wondering what an embedded action in a machine without a (>,
> $, @ %) symbol means.  For example, in cppscan.rl identifiers are
> matched with:
> 
>     # Identifiers
>     ( [a-zA-Z_] [a-zA-Z0-9_]* )
>         {token( TK_Id );};
> 
> On what condition does token() get called?
> 
> 
> --~--~---------~--~----~------------~-------~--~----~
> You received this message because you are subscribed to the Google Groups "ragel-users" group.
> To post to this group, send email to ragel-users at googlegroups.com
> To unsubscribe from this group, send email to ragel-users-unsubscribe at googlegroups.com
> For more options, visit this group at http://groups.google.com/group/ragel-users?hl=en
> -~----------~----~----~----~------~----~------~--~---

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
URL: <http://www.colm.net/pipermail/ragel/attachments/20070410/4dd6343a/attachment.sig>

From daniel.venkitacha... at gmail.com  Tue Apr 10 23:04:32 2007
From: daniel.venkitacha... at gmail.com (Dan V.)
Date: Tue, 10 Apr 2007 16:04:32 -0700
Subject: Newbie question: machine actions
In-Reply-To: <461B9FC2.2020906@cs.queensu.ca>
References: <1176213409.036935.150470@n76g2000hsh.googlegroups.com>
   <461B9FC2.2020906@cs.queensu.ca>
Message-ID: <1176246272.841897.167510@n59g2000hsh.googlegroups.com>

Ah, it makes sense now - I'd only skimmed past chapter 5.

Thanks!


Dan.

On Apr 10, 10:31 pm, Adrian Thurston <thurs... at cs.queensu.ca> wrote:
> Hi Dan,
>
> The action is a scanner pattern action. It can only exist inside a
> scanner and gets invoked when the scanner logic determines a pattern has
> matched. They function the same as the actions in lex. See section 6.3
> in the manual for more information. Note that the => symbol in front of
> the code block is optional and has been left out of this example.
>
> Cheers,
>  Adrian
>
> Dan V. wrote:
> > Hi.  I'm wondering what an embedded action in a machine without a (>,
> > $, @ %) symbol means.  For example, in cppscan.rl identifiers are
> > matched with:
>
> >     # Identifiers
> >     ( [a-zA-Z_] [a-zA-Z0-9_]* )
> >         {token( TK_Id );};
>
> > On what condition does token() get called?
>
> > >
>
>
>  signature.asc
> 1KDownload


From thurs... at cs.queensu.ca  Sat Apr  7 15:22:07 2007
From: thurs... at cs.queensu.ca (Adrian Thurston)
Date: Sat, 07 Apr 2007 11:22:07 -0400
Subject: ruby code generation
Message-ID: <4617B71F.2050402@cs.queensu.ca>

Hi,

In the 5.20 release which I am going to do today Ruby code generation is
improved. You can use scanners and control flow and the Ruby code
generator is passing on the all the language-independent tests (there
are now 11 of them).

Cheers,
 Adrian

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
URL: <http://www.colm.net/pipermail/ragel/attachments/20070407/8c3cf0ee/attachment.sig>

From pat.ey... at gmail.com  Wed Apr 11 20:28:36 2007
From: pat.ey... at gmail.com (pate)
Date: Wed, 11 Apr 2007 20:28:36 -0000
Subject: ruby code generation
In-Reply-To: <4617B71F.2050402@cs.queensu.ca>
References: <4617B71F.2050402@cs.queensu.ca>
Message-ID: <1176323316.203182.251110@y5g2000hsa.googlegroups.com>

It looks like ragel is going to be a key piece of a Ruby-based Google
Summer-of-Code project.   Where's the best place to learn more about
Ruby code generation  for ragel?

On Apr 7, 9:22 am, Adrian Thurston <thurs... at cs.queensu.ca> wrote:
> Hi,
>
> In the 5.20 release which I am going to do today Ruby code generation is
> improved. You can use scanners and control flow and the Ruby code
> generator is passing on the all the language-independent tests (there
> are now 11 of them).
>
> Cheers,
>  Adrian
>
>  signature.asc
> 1KDownload


From thurs... at cs.queensu.ca  Wed Apr 11 21:49:13 2007
From: thurs... at cs.queensu.ca (Adrian Thurston)
Date: Wed, 11 Apr 2007 17:49:13 -0400
Subject: [ragel-users] Re: ruby code generation
In-Reply-To: <1176323316.203182.251110@y5g2000hsa.googlegroups.com>
References: <4617B71F.2050402@cs.queensu.ca> <1176323316.203182.251110@y5g2000hsa.googlegroups.com>
Message-ID: <461D57D9.60001@cs.queensu.ca>

Hello,

That's great news! Where can I learn more about this project?

The best place to learn about Ruby code generation with Ragel would
probably be this list :) Sorry there isn't much documentation for
rlgen-ruby right now. It's relatively new and I usually give new
features some time to settle before immortalizing them with documentation.

I can sum it up for you in a few words. It's mostly the same as rlgen-cd
-T0, except for a couple things:

1. An array called data containing the characters to be processed must
be made available on each run of the machine.

2. The variables which are pointers in the C code (p, pe, tokstart,
tokend) now become integers with -1 to indicate null.

Cheers,
 Adrian


pate wrote:
> It looks like ragel is going to be a key piece of a Ruby-based Google
> Summer-of-Code project.   Where's the best place to learn more about
> Ruby code generation  for ragel?
> 
> On Apr 7, 9:22 am, Adrian Thurston <thurs... at cs.queensu.ca> wrote:
>> Hi,
>>
>> In the 5.20 release which I am going to do today Ruby code generation is
>> improved. You can use scanners and control flow and the Ruby code
>> generator is passing on the all the language-independent tests (there
>> are now 11 of them).
>>
>> Cheers,
>>  Adrian
>>
>>  signature.asc
>> 1KDownload
> 
> 
> --~--~---------~--~----~------------~-------~--~----~
> You received this message because you are subscribed to the Google Groups "ragel-users" group.
> To post to this group, send email to ragel-users at googlegroups.com
> To unsubscribe from this group, send email to ragel-users-unsubscribe at googlegroups.com
> For more options, visit this group at http://groups.google.com/group/ragel-users?hl=en
> -~----------~----~----~----~------~----~------~--~---

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
URL: <http://www.colm.net/pipermail/ragel/attachments/20070411/389a5793/attachment.sig>

From pat.ey... at gmail.com  Thu Apr 12 14:11:34 2007
From: pat.ey... at gmail.com (pat eyler)
Date: Thu, 12 Apr 2007 08:11:34 -0600
Subject: [ragel-users] Re: ruby code generation
In-Reply-To: <461D57D9.60001@cs.queensu.ca>
References: <4617B71F.2050402@cs.queensu.ca>
	 <1176323316.203182.251...@y5g2000hsa.googlegroups.com>
	 <461D57D9.60...@cs.queensu.ca>
Message-ID: <6fd0654b0704120711r49565b39n32af4a09d72fe4f3@mail.gmail.com>

On 4/11/07, Adrian Thurston <thurs... at cs.queensu.ca> wrote:
> Hello,
>
> That's great news! Where can I learn more about this project?

Well, you can read a little bit about it here:
  http://code.google.com/soc/ruby/about.html

As the project matures, we'll have more information about it online.
Until then, I'm encouraging the student doing the work and the other
mentor to joing this list.

>
> The best place to learn about Ruby code generation with Ragel would
> probably be this list :) Sorry there isn't much documentation for
> rlgen-ruby right now. It's relatively new and I usually give new
> features some time to settle before immortalizing them with documentation.
>
> I can sum it up for you in a few words. It's mostly the same as rlgen-cd
> -T0, except for a couple things:
>
> 1. An array called data containing the characters to be processed must
> be made available on each run of the machine.
>
> 2. The variables which are pointers in the C code (p, pe, tokstart,
> tokend) now become integers with -1 to indicate null.
>
> Cheers,
>  Adrian
>
>
> pate wrote:
> > It looks like ragel is going to be a key piece of a Ruby-based Google
> > Summer-of-Code project.   Where's the best place to learn more about
> > Ruby code generation  for ragel?
> >
> > On Apr 7, 9:22 am, Adrian Thurston <thurs... at cs.queensu.ca> wrote:
> >> Hi,
> >>
> >> In the 5.20 release which I am going to do today Ruby code generation is
> >> improved. You can use scanners and control flow and the Ruby code
> >> generator is passing on the all the language-independent tests (there
> >> are now 11 of them).
> >>
> >> Cheers,
> >>  Adrian
> >>
> >>  signature.asc
> >> 1KDownload
> >
> >
> > >
>
>


-- 
thanks,
-pate
-------------------------
http://on-ruby.blogspot.com
http://on-ruby.tumblr.com
http://www.rubycentral.org/projects/soc2007


From bww00amd... at yahoo.com  Mon Apr  2 21:25:08 2007
From: bww00amd... at yahoo.com (bww00amd... at yahoo.com)
Date: Mon, 02 Apr 2007 14:25:08 -0700
Subject: Help running the ruby tests specific atoi3
Message-ID: <1175549108.499771.287630@p77g2000hsh.googlegroups.com>

Hey,
I'm trying to get started and wanted to run the atoi3 test.
any doc on rlgen-ruby ??? and running the atoi3 test.

Thanks for the help

bryan Webb


From thurs... at cs.queensu.ca  Tue Apr  3 20:33:29 2007
From: thurs... at cs.queensu.ca (Adrian Thurston)
Date: Tue, 03 Apr 2007 16:33:29 -0400
Subject: [ragel-users] Help running the ruby tests specific atoi3
In-Reply-To: <1175549108.499771.287630@p77g2000hsh.googlegroups.com>
References: <1175549108.499771.287630@p77g2000hsh.googlegroups.com>
Message-ID: <4612BA19.1000802@cs.queensu.ca>

Hi, you can run the ruby atoi3 test with the command:

./runtests atoi3.rl

Keep in mind that the ruby code generation is not yet complete. For
example, if you try to create a scanner you will find some java code in
there as it was derived from the java code generator.

-Adrian

bww00amd... at yahoo.com wrote:
> Hey,
> I'm trying to get started and wanted to run the atoi3 test.
> any doc on rlgen-ruby ??? and running the atoi3 test.
> 
> Thanks for the help
> 
> bryan Webb
> 
> 
> --~--~---------~--~----~------------~-------~--~----~
> You received this message because you are subscribed to the Google Groups "ragel-users" group.
> To post to this group, send email to ragel-users at googlegroups.com
> To unsubscribe from this group, send email to ragel-users-unsubscribe at googlegroups.com
> For more options, visit this group at http://groups.google.com/group/ragel-users?hl=en
> -~----------~----~----~----~------~----~------~--~---

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
URL: <http://www.colm.net/pipermail/ragel-users/attachments/20070403/894d91d5/attachment-0001.sig>

From bww00amd... at yahoo.com  Mon Apr  2 22:22:15 2007
From: bww00amd... at yahoo.com (bww00amd... at yahoo.com)
Date: Mon, 02 Apr 2007 15:22:15 -0700
Subject: Also looking for simple java examples
Message-ID: <1175552535.080059.125550@y80g2000hsf.googlegroups.com>

Also looking for simple java examples

Thanks
Bryan Webb


From thurs... at cs.queensu.ca  Tue Apr  3 20:41:33 2007
From: thurs... at cs.queensu.ca (Adrian Thurston)
Date: Tue, 03 Apr 2007 16:41:33 -0400
Subject: [ragel-users] Also looking for simple java examples
In-Reply-To: <1175552535.080059.125550@y80g2000hsf.googlegroups.com>
References: <1175552535.080059.125550@y80g2000hsf.googlegroups.com>
Message-ID: <4612BBFD.4090302@cs.queensu.ca>

Hi,

Run this in the test directory to see which tests are java specific:

grep '@LANG: java' *.rl

Test cases with '@LANG: indep' in them also apply to Java. You need TXL
(www.txl.ca) installed to generate a Java test case from the language
independent file. The language independent tests are run with the
runtests script.

Cheers,
 Adrian

bww00amd... at yahoo.com wrote:
> Also looking for simple java examples
> 
> Thanks
> Bryan Webb
> 
> 
> --~--~---------~--~----~------------~-------~--~----~
> You received this message because you are subscribed to the Google Groups "ragel-users" group.
> To post to this group, send email to ragel-users at googlegroups.com
> To unsubscribe from this group, send email to ragel-users-unsubscribe at googlegroups.com
> For more options, visit this group at http://groups.google.com/group/ragel-users?hl=en
> -~----------~----~----~----~------~----~------~--~---

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
URL: <http://www.colm.net/pipermail/ragel-users/attachments/20070403/eb39864a/attachment-0001.sig>

From r.lp... at gmail.com  Fri Apr  6 07:25:10 2007
From: r.lp... at gmail.com (Paul)
Date: Fri, 6 Apr 2007 19:25:10 +1200
Subject: 'string' ranges
Message-ID: <200704061925.10116.paul@findlay.net.nz>

Hello all,

I'm wanting my ragel state machine to process unicode text encoded as utf-8. 
There are some unicode ranges that I want to transition on e.g.

range = [0x0ED0-0x0ED9];

but I don't know how to express this in a minimal way with an unsigned char 
alphabet (i.e. I don't think it can be done directly in ragel's expression 
syntax).

My brain isn't in the best condition, but the two approaches I have thought 
of:
1.) use a script to write out the set of strings in the range and leave it to 
ragel to minimise the states (or something like this)
2.) use ragel's semantic conditions somehow.. (assemble utf-32 version and use 
integer comparison)

But before I attempt either, has anyone had to do anything similar? Or are 
there any suggestions I could use?

Thanks, and have a good Easter

 - Paul


From thurs... at cs.queensu.ca  Fri Apr  6 14:38:27 2007
From: thurs... at cs.queensu.ca (Adrian Thurston)
Date: Fri, 06 Apr 2007 10:38:27 -0400
Subject: [ragel-users] 'string' ranges
In-Reply-To: <200704061925.10116.paul@findlay.net.nz>
References: <200704061925.10116.paul@findlay.net.nz>
Message-ID: <46165B63.9080903@cs.queensu.ca>

Hi Paul,

I think in theory enumerating all the possibilities with a script then
leaving it up to the minimization routine would work. Though it might
end up taking forever to compile.

Semantic conditions could be made to work, but I would advise trying to
express the ranges directly. If that doesn't work well (or maybe if it
generates too many states) you could go the semantic condition route.

To express them directly assemble the ranges byte by byte and then
section by section. I've never done this in a real program so if you try
it out (or one of the other techniques) would you mind sending a message
to the list to say how it went?

alphtype unsigned char;

# 0x0ED0-0x0ED9
r1 = 0x0D ( 0xD0 .. 0xD9 );

# 0x0A07-0x0D40
r2 =
	0x0A ( 0x07 .. 0xFF ) |
	( 0x0B | 0x0C ) any |
	0x0D ( 0x00 .. 0x40 );

You're probably aware of this but I'll mention it just to put it out
there ... for a really simple solution you can always process in two
passes. First expand to a fixed-width character then change the alphabet
type to short or int and process with Ragel.

Regards,
 Adrian


Paul wrote:
> Hello all,
> 
> I'm wanting my ragel state machine to process unicode text encoded as utf-8. 
> There are some unicode ranges that I want to transition on e.g.
> 
> range = [0x0ED0-0x0ED9];
> 
> but I don't know how to express this in a minimal way with an unsigned char 
> alphabet (i.e. I don't think it can be done directly in ragel's expression 
> syntax).
> 
> My brain isn't in the best condition, but the two approaches I have thought 
> of:
> 1.) use a script to write out the set of strings in the range and leave it to 
> ragel to minimise the states (or something like this)
> 2.) use ragel's semantic conditions somehow.. (assemble utf-32 version and use 
> integer comparison)
> 
> But before I attempt either, has anyone had to do anything similar? Or are 
> there any suggestions I could use?
> 
> Thanks, and have a good Easter
> 
>  - Paul
> 
> --~--~---------~--~----~------------~-------~--~----~
> You received this message because you are subscribed to the Google Groups "ragel-users" group.
> To post to this group, send email to ragel-users at googlegroups.com
> To unsubscribe from this group, send email to ragel-users-unsubscribe at googlegroups.com
> For more options, visit this group at http://groups.google.com/group/ragel-users?hl=en
> -~----------~----~----~----~------~----~------~--~---

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
URL: <http://www.colm.net/pipermail/ragel-users/attachments/20070406/f965fc6d/attachment-0001.sig>

From r.lp... at gmail.com  Sat Apr  7 08:54:09 2007
From: r.lp... at gmail.com (Paul)
Date: Sat, 7 Apr 2007 20:54:09 +1200
Subject: [ragel-users] Re: 'string' ranges
In-Reply-To: <46165B63.9080903@cs.queensu.ca>
References: <200704061925.10116.paul@findlay.net.nz> <46165B63.9080903@cs.queensu.ca>
Message-ID: <200704072054.09086.p...@findlay.net.nz>

> would you mind sending a message to the list to say how it went?
Thanks Adrian, yeah I will remember to do that when I get to a good solution.

> # 0x0A07-0x0D40
> r2 =
> 	0x0A ( 0x07 .. 0xFF ) |
> 	( 0x0B | 0x0C ) any |
> 	0x0D ( 0x00 .. 0x40 );
For now, I will attempt to run with this...

I have a script taking my unicode ranges, converting them to UTF-8 character 
ranges.. and then running those through a hackish set of regular expressions 
to get something like

(
	(0xE4 0xB8 (0x80 .. 0xFF)) |
	((0xE5 .. 0xE8) any{2}) |
	(0xE9 (((0x00 .. 0xBD) any) |
	(0xBE (0x00 .. 0xA5))))
)

from the unicode range [0x4E00-0x9FA5]

> You're probably aware of this but I'll mention it just to put it out
> there ... [snip]
Yeah, although, the majority of my transitions are on ascii characters and I'm 
only wanting to handle proper UTF-8 strings instead of (any -- ascii)* to be 
ultra neurotic in a few cases. I wanted to see what happens to the number of 
states and average performance before moving to another UTF character set or 
abandoning the extra correctness.

Thanks again,

 - Paul


From thurs... at cs.queensu.ca  Sat Apr  7 16:28:43 2007
From: thurs... at cs.queensu.ca (Adrian Thurston)
Date: Sat, 07 Apr 2007 12:28:43 -0400
Subject: plans for 6.0
Message-ID: <4617C6BB.6060503@cs.queensu.ca>

Hello List Memebers,

Sometime soon I will start working on a 6.0 release. I had thought
version 5 would be the last major release for a long time ... as I did
with 4 and 3. Funny how that never sticks. Anyways, these changes will
not preserve backwards compatibility and consequently will require some
porting effort. Though it should be minimal.

Other stuff will probably creep in, but these are the items which I want
the most. Many thanks to those involved in discussions which lead to
some of these.

Regards,
 Adrian

CHANGES FOR 6.0:

Expressions of the form: ( expr1 <: expr2 . expr3 ) sometimes don't
behave as expected. If expr2 contains the empty string then it's
possible for the machine to escape to expr3. This is somewhat
unexpected.  The empty string does count as moving through the right
machine so there should not be an exception for this case. Using the
stronger implementation: ( expr1 $1 %0 . expr2 ) will solve the problem.

Also, there is potential for nondeterminism to persist via the empty
string with the :> and :>> operators. Should also guard against this
using leaving priorities.

fbreak should advance the current char. Depreciate fbreak and add
    fctl_break;
    fctl_return <expr>;
    fctl_goto <label>;

fbreak should execute the to-state actions of the target state. The
semantics of fbreak should be identical to reaching the end of a buffer
block.

Introduce a new variable "eof" which is a pointer like pe. It gets set
to pe when the input has ended. This would enable eof actions to go into
the main loop, granting them the ability to manipulate p and cs. This
would free us from requiring some eof character to be sent to scanners
to 'flush out' the last token.  Instead an eof action can now execute
scanner pattern actions and backtrack if necessary.

The tokstart/tokend variable should be shortened to ts/te.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
URL: <http://www.colm.net/pipermail/ragel-users/attachments/20070407/3908f9a6/attachment-0001.sig>

From daniel.venkitacha... at gmail.com  Tue Apr 10 13:56:49 2007
From: daniel.venkitacha... at gmail.com (Dan V.)
Date: Tue, 10 Apr 2007 06:56:49 -0700
Subject: Newbie question: machine actions
Message-ID: <1176213409.036935.150470@n76g2000hsh.googlegroups.com>

Hi.  I'm wondering what an embedded action in a machine without a (>,
$, @ %) symbol means.  For example, in cppscan.rl identifiers are
matched with:

    # Identifiers
    ( [a-zA-Z_] [a-zA-Z0-9_]* )
        {token( TK_Id );};

On what condition does token() get called?


From thurs... at cs.queensu.ca  Tue Apr 10 14:31:30 2007
From: thurs... at cs.queensu.ca (Adrian Thurston)
Date: Tue, 10 Apr 2007 10:31:30 -0400
Subject: [ragel-users] Newbie question: machine actions
In-Reply-To: <1176213409.036935.150470@n76g2000hsh.googlegroups.com>
References: <1176213409.036935.150470@n76g2000hsh.googlegroups.com>
Message-ID: <461B9FC2.2020906@cs.queensu.ca>

Hi Dan,

The action is a scanner pattern action. It can only exist inside a
scanner and gets invoked when the scanner logic determines a pattern has
matched. They function the same as the actions in lex. See section 6.3
in the manual for more information. Note that the => symbol in front of
the code block is optional and has been left out of this example.

Cheers,
 Adrian

Dan V. wrote:
> Hi.  I'm wondering what an embedded action in a machine without a (>,
> $, @ %) symbol means.  For example, in cppscan.rl identifiers are
> matched with:
> 
>     # Identifiers
>     ( [a-zA-Z_] [a-zA-Z0-9_]* )
>         {token( TK_Id );};
> 
> On what condition does token() get called?
> 
> 
> --~--~---------~--~----~------------~-------~--~----~
> You received this message because you are subscribed to the Google Groups "ragel-users" group.
> To post to this group, send email to ragel-users at googlegroups.com
> To unsubscribe from this group, send email to ragel-users-unsubscribe at googlegroups.com
> For more options, visit this group at http://groups.google.com/group/ragel-users?hl=en
> -~----------~----~----~----~------~----~------~--~---

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
URL: <http://www.colm.net/pipermail/ragel-users/attachments/20070410/4dd6343a/attachment-0001.sig>

From daniel.venkitacha... at gmail.com  Tue Apr 10 23:04:32 2007
From: daniel.venkitacha... at gmail.com (Dan V.)
Date: Tue, 10 Apr 2007 16:04:32 -0700
Subject: Newbie question: machine actions
In-Reply-To: <461B9FC2.2020906@cs.queensu.ca>
References: <1176213409.036935.150470@n76g2000hsh.googlegroups.com>
   <461B9FC2.2020906@cs.queensu.ca>
Message-ID: <1176246272.841897.167510@n59g2000hsh.googlegroups.com>

Ah, it makes sense now - I'd only skimmed past chapter 5.

Thanks!


Dan.

On Apr 10, 10:31 pm, Adrian Thurston <thurs... at cs.queensu.ca> wrote:
> Hi Dan,
>
> The action is a scanner pattern action. It can only exist inside a
> scanner and gets invoked when the scanner logic determines a pattern has
> matched. They function the same as the actions in lex. See section 6.3
> in the manual for more information. Note that the => symbol in front of
> the code block is optional and has been left out of this example.
>
> Cheers,
>  Adrian
>
> Dan V. wrote:
> > Hi.  I'm wondering what an embedded action in a machine without a (>,
> > $, @ %) symbol means.  For example, in cppscan.rl identifiers are
> > matched with:
>
> >     # Identifiers
> >     ( [a-zA-Z_] [a-zA-Z0-9_]* )
> >         {token( TK_Id );};
>
> > On what condition does token() get called?
>
> > >
>
>
>  signature.asc
> 1KDownload


From thurs... at cs.queensu.ca  Sat Apr  7 15:22:07 2007
From: thurs... at cs.queensu.ca (Adrian Thurston)
Date: Sat, 07 Apr 2007 11:22:07 -0400
Subject: ruby code generation
Message-ID: <4617B71F.2050402@cs.queensu.ca>

Hi,

In the 5.20 release which I am going to do today Ruby code generation is
improved. You can use scanners and control flow and the Ruby code
generator is passing on the all the language-independent tests (there
are now 11 of them).

Cheers,
 Adrian

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
URL: <http://www.colm.net/pipermail/ragel-users/attachments/20070407/8c3cf0ee/attachment-0001.sig>

From pat.ey... at gmail.com  Wed Apr 11 20:28:36 2007
From: pat.ey... at gmail.com (pate)
Date: Wed, 11 Apr 2007 20:28:36 -0000
Subject: ruby code generation
In-Reply-To: <4617B71F.2050402@cs.queensu.ca>
References: <4617B71F.2050402@cs.queensu.ca>
Message-ID: <1176323316.203182.251110@y5g2000hsa.googlegroups.com>

It looks like ragel is going to be a key piece of a Ruby-based Google
Summer-of-Code project.   Where's the best place to learn more about
Ruby code generation  for ragel?

On Apr 7, 9:22 am, Adrian Thurston <thurs... at cs.queensu.ca> wrote:
> Hi,
>
> In the 5.20 release which I am going to do today Ruby code generation is
> improved. You can use scanners and control flow and the Ruby code
> generator is passing on the all the language-independent tests (there
> are now 11 of them).
>
> Cheers,
>  Adrian
>
>  signature.asc
> 1KDownload


From thurs... at cs.queensu.ca  Wed Apr 11 21:49:13 2007
From: thurs... at cs.queensu.ca (Adrian Thurston)
Date: Wed, 11 Apr 2007 17:49:13 -0400
Subject: [ragel-users] Re: ruby code generation
In-Reply-To: <1176323316.203182.251110@y5g2000hsa.googlegroups.com>
References: <4617B71F.2050402@cs.queensu.ca> <1176323316.203182.251110@y5g2000hsa.googlegroups.com>
Message-ID: <461D57D9.60001@cs.queensu.ca>

Hello,

That's great news! Where can I learn more about this project?

The best place to learn about Ruby code generation with Ragel would
probably be this list :) Sorry there isn't much documentation for
rlgen-ruby right now. It's relatively new and I usually give new
features some time to settle before immortalizing them with documentation.

I can sum it up for you in a few words. It's mostly the same as rlgen-cd
-T0, except for a couple things:

1. An array called data containing the characters to be processed must
be made available on each run of the machine.

2. The variables which are pointers in the C code (p, pe, tokstart,
tokend) now become integers with -1 to indicate null.

Cheers,
 Adrian


pate wrote:
> It looks like ragel is going to be a key piece of a Ruby-based Google
> Summer-of-Code project.   Where's the best place to learn more about
> Ruby code generation  for ragel?
> 
> On Apr 7, 9:22 am, Adrian Thurston <thurs... at cs.queensu.ca> wrote:
>> Hi,
>>
>> In the 5.20 release which I am going to do today Ruby code generation is
>> improved. You can use scanners and control flow and the Ruby code
>> generator is passing on the all the language-independent tests (there
>> are now 11 of them).
>>
>> Cheers,
>>  Adrian
>>
>>  signature.asc
>> 1KDownload
> 
> 
> --~--~---------~--~----~------------~-------~--~----~
> You received this message because you are subscribed to the Google Groups "ragel-users" group.
> To post to this group, send email to ragel-users at googlegroups.com
> To unsubscribe from this group, send email to ragel-users-unsubscribe at googlegroups.com
> For more options, visit this group at http://groups.google.com/group/ragel-users?hl=en
> -~----------~----~----~----~------~----~------~--~---

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
URL: <http://www.colm.net/pipermail/ragel-users/attachments/20070411/389a5793/attachment-0001.sig>

From pat.ey... at gmail.com  Thu Apr 12 14:11:34 2007
From: pat.ey... at gmail.com (pat eyler)
Date: Thu, 12 Apr 2007 08:11:34 -0600
Subject: [ragel-users] Re: ruby code generation
In-Reply-To: <461D57D9.60001@cs.queensu.ca>
References: <4617B71F.2050402@cs.queensu.ca>
	 <1176323316.203182.251...@y5g2000hsa.googlegroups.com>
	 <461D57D9.60...@cs.queensu.ca>
Message-ID: <6fd0654b0704120711r49565b39n32af4a09d72fe4f3@mail.gmail.com>

On 4/11/07, Adrian Thurston <thurs... at cs.queensu.ca> wrote:
> Hello,
>
> That's great news! Where can I learn more about this project?

Well, you can read a little bit about it here:
  http://code.google.com/soc/ruby/about.html

As the project matures, we'll have more information about it online.
Until then, I'm encouraging the student doing the work and the other
mentor to joing this list.

>
> The best place to learn about Ruby code generation with Ragel would
> probably be this list :) Sorry there isn't much documentation for
> rlgen-ruby right now. It's relatively new and I usually give new
> features some time to settle before immortalizing them with documentation.
>
> I can sum it up for you in a few words. It's mostly the same as rlgen-cd
> -T0, except for a couple things:
>
> 1. An array called data containing the characters to be processed must
> be made available on each run of the machine.
>
> 2. The variables which are pointers in the C code (p, pe, tokstart,
> tokend) now become integers with -1 to indicate null.
>
> Cheers,
>  Adrian
>
>
> pate wrote:
> > It looks like ragel is going to be a key piece of a Ruby-based Google
> > Summer-of-Code project.   Where's the best place to learn more about
> > Ruby code generation  for ragel?
> >
> > On Apr 7, 9:22 am, Adrian Thurston <thurs... at cs.queensu.ca> wrote:
> >> Hi,
> >>
> >> In the 5.20 release which I am going to do today Ruby code generation is
> >> improved. You can use scanners and control flow and the Ruby code
> >> generator is passing on the all the language-independent tests (there
> >> are now 11 of them).
> >>
> >> Cheers,
> >>  Adrian
> >>
> >>  signature.asc
> >> 1KDownload
> >
> >
> > >
>
>


-- 
thanks,
-pate
-------------------------
http://on-ruby.blogspot.com
http://on-ruby.tumblr.com
http://www.rubycentral.org/projects/soc2007


