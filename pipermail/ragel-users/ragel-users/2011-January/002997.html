<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] EOF actions and buffering
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20EOF%20actions%20and%20buffering&In-Reply-To=%3C4D3B1D91.8050409%40complang.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="002996.html">
   <LINK REL="Next"  HREF="002998.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] EOF actions and buffering</H1>
    <B>Adrian Thurston</B> 
    <A HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20EOF%20actions%20and%20buffering&In-Reply-To=%3C4D3B1D91.8050409%40complang.org%3E"
       TITLE="[ragel-users] EOF actions and buffering">thurston at complang.org
       </A><BR>
    <I>Sat Jan 22 18:10:25 UTC 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002996.html">[ragel-users] EOF actions and buffering
</A></li>
        <LI>Next message: <A HREF="002998.html">[ragel-users] Detecting failure state
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2997">[ date ]</a>
              <a href="thread.html#2997">[ thread ]</a>
              <a href="subject.html#2997">[ subject ]</a>
              <a href="author.html#2997">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11-01-20 06:52 PM, Benjamin van der Veen wrote:
&gt;<i> The parser impl referenced above uses an intermediary buffer; it clears the intermediary buffer on the &quot;enter&quot; action of a token to be extracted, copies each character of the token into a buffer on the &quot;any&quot; action, and when the &quot;leaving&quot; action is executed, the contents of that intermediary buffer are then copied into the destination string. Will this approach will work regardless of buffer boundaries?
</I>
That is correct.

&gt;<i> This approach requires the user to make sure the ts pointer remains valid in the buffer provided each time the machine is executed (which depending on how you're handing IO may mean some memory copying). It allows an action to have access to the a contiguous block of memory (given by ts and fpc) which defines the matched token. Does this approach only work with the state chart syntax?
</I>
You can do it manually. The ts pointer is set with what is essentially 
an entering action. See cppscan2.rl for an example.

<A HREF="http://svn.complang.org/ragel/trunk/test/cppscan2.rl">http://svn.complang.org/ragel/trunk/test/cppscan2.rl</A>

_______________________________________________
ragel-users mailing list
<A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">ragel-users at complang.org</A>
<A HREF="http://www.complang.org/mailman/listinfo/ragel-users">http://www.complang.org/mailman/listinfo/ragel-users</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002996.html">[ragel-users] EOF actions and buffering
</A></li>
	<LI>Next message: <A HREF="002998.html">[ragel-users] Detecting failure state
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2997">[ date ]</a>
              <a href="thread.html#2997">[ thread ]</a>
              <a href="subject.html#2997">[ subject ]</a>
              <a href="author.html#2997">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">More information about the ragel-users
mailing list</a><br>
</body></html>
