<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] [PATCH 0/3] Fix Cygwin build
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20%5BPATCH%200/3%5D%20Fix%20Cygwin%20build&In-Reply-To=%3C73c45e9029f92be0cc6bdc6b229470d8%40mail.colm.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="003563.html">
   <LINK REL="Next"  HREF="003567.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] [PATCH 0/3] Fix Cygwin build</H1>
    <B>Adrian Thurston</B> 
    <A HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20%5BPATCH%200/3%5D%20Fix%20Cygwin%20build&In-Reply-To=%3C73c45e9029f92be0cc6bdc6b229470d8%40mail.colm.net%3E"
       TITLE="[ragel-users] [PATCH 0/3] Fix Cygwin build">thurston at colm.net
       </A><BR>
    <I>Sun Nov 25 08:22:55 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="003563.html">[ragel-users] [PATCH 3/3] avoid undefined symbols in libragel
</A></li>
        <LI>Next message: <A HREF="003567.html">[ragel-users] [PATCH 0/3] Fix Cygwin build
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3565">[ date ]</a>
              <a href="thread.html#3565">[ thread ]</a>
              <a href="subject.html#3565">[ subject ]</a>
              <a href="author.html#3565">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Ken, thank you for the patches. I just enabled --no-undefined and 
removed the reference to the undefined symbol. The parse.c file cannot 
be included in libragel because it defines the frontnend language, which 
is different for each binary in the host-* directories. All that was 
needed was to pass the reference to rl_parse into libragel from main.cc. 
Was already doing that for the backend code generator (also a colm 
program).

Adrian

On 2018-11-16 16:58, Ken Brown wrote:
&gt;<i> I've just built ragel-7.0.0.11 on Cygwin and added it to the Cygwin
</I>&gt;<i> distribution.  I had to patch the sources in order to build shared
</I>&gt;<i> libraries.
</I>&gt;<i> 
</I>&gt;<i> libtool won't build shared libraries on Cygwin unless the
</I>&gt;<i> -no-undefined flag is given.  The first patch of this series does that
</I>&gt;<i> for libfsm and libragel.  But it turns out that there are in fact
</I>&gt;<i> undefined symbols in libragel.  The next two patches fix that.
</I>&gt;<i> 
</I>&gt;<i> I don't think these patches do any harm on other platforms.
</I>&gt;<i> 
</I>&gt;<i> Ken Brown (3):
</I>&gt;<i>   add -no-undefined to LDFLAGS for libfsm and libragel
</I>&gt;<i>   add dependency of libragel on libfsm and libcolm
</I>&gt;<i>   avoid undefined symbols in libragel
</I>&gt;<i> 
</I>&gt;<i>  src/Makefile.am | 20 ++++++++++++++------
</I>&gt;<i>  1 file changed, 14 insertions(+), 6 deletions(-)
</I>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003563.html">[ragel-users] [PATCH 3/3] avoid undefined symbols in libragel
</A></li>
	<LI>Next message: <A HREF="003567.html">[ragel-users] [PATCH 0/3] Fix Cygwin build
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3565">[ date ]</a>
              <a href="thread.html#3565">[ thread ]</a>
              <a href="subject.html#3565">[ subject ]</a>
              <a href="author.html#3565">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">More information about the ragel-users
mailing list</a><br>
</body></html>
