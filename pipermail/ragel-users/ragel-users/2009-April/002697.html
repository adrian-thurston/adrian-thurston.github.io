<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] Searching a buffer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Searching%20a%20buffer&In-Reply-To=%3C49ED00D9.2080901%40complang.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="002694.html">
   <LINK REL="Next"  HREF="002695.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] Searching a buffer</H1>
    <B>Adrian Thurston</B> 
    <A HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Searching%20a%20buffer&In-Reply-To=%3C49ED00D9.2080901%40complang.org%3E"
       TITLE="[ragel-users] Searching a buffer">thurston at complang.org
       </A><BR>
    <I>Mon Apr 20 23:10:17 UTC 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002694.html">[ragel-users] Searching a buffer
</A></li>
        <LI>Next message: <A HREF="002695.html">[ragel-users] ragel scanner construct question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2697">[ date ]</a>
              <a href="thread.html#2697">[ thread ]</a>
              <a href="subject.html#2697">[ subject ]</a>
              <a href="author.html#2697">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There's no best way, you just have to choose one that works for you. The 
alternative to the two methods you tried is to manually run the machine 
( A | B | C ) at every position in the input. As soon as it fails it 
will stop so you won't get N^2 running time. This is very much like 
using a scanner. You'll have to keep data around though. You can't do 
that on one pass of the data for the same reason you need to do some 
management of ts, te, etc. for a scanner.

-Adrian

Smelly Pooh wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> What's the best way to search a buffer for a list of patterns using ragel?
</I>&gt;<i> 
</I>&gt;<i> I've tried:
</I>&gt;<i> 
</I>&gt;<i> search = A | B | C;
</I>&gt;<i> 
</I>&gt;<i> main := any* search;
</I>&gt;<i> 
</I>&gt;<i> which works ok but generates a lot of states.
</I>&gt;<i> 
</I>&gt;<i> I've also tried using a scanner like:
</I>&gt;<i> 
</I>&gt;<i> main := |*
</I>&gt;<i>     A;
</I>&gt;<i>     B;
</I>&gt;<i>     C;
</I>&gt;<i>     any;
</I>&gt;<i> *|;
</I>&gt;<i> 
</I>&gt;<i> which also works and generates much fewer states, but I'm not interested 
</I>&gt;<i> in writing extra code to handle te, ts, eof etc.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> ragel-users mailing list
</I>&gt;<i> <A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">ragel-users at complang.org</A>
</I>&gt;<i> <A HREF="http://www.complang.org/mailman/listinfo/ragel-users">http://www.complang.org/mailman/listinfo/ragel-users</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002694.html">[ragel-users] Searching a buffer
</A></li>
	<LI>Next message: <A HREF="002695.html">[ragel-users] ragel scanner construct question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2697">[ date ]</a>
              <a href="thread.html#2697">[ thread ]</a>
              <a href="subject.html#2697">[ subject ]</a>
              <a href="author.html#2697">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">More information about the ragel-users
mailing list</a><br>
</body></html>
