<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Problem: Change state only when a new input is received
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20Problem%3A%20Change%20state%20only%20when%20a%20new%20input%20is%20received&In-Reply-To=%3C1184229186.768496.247050%4057g2000hsv.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="002044.html">
   <LINK REL="Next"  HREF="002046.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Problem: Change state only when a new input is received</H1>
    <B>Aditi</B> 
    <A HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20Problem%3A%20Change%20state%20only%20when%20a%20new%20input%20is%20received&In-Reply-To=%3C1184229186.768496.247050%4057g2000hsv.googlegroups.com%3E"
       TITLE="Problem: Change state only when a new input is received">ad... at cse.iitk.ac.in
       </A><BR>
    <I>Thu Jul 12 08:33:06 UTC 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002044.html">[ragel-users] Re: Problem: Change state only when a new input is received
</A></li>
        <LI>Next message: <A HREF="002046.html">[ragel-users] Re: Problem: Change state only when a new input is received
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2045">[ date ]</a>
              <a href="thread.html#2045">[ thread ]</a>
              <a href="subject.html#2045">[ subject ]</a>
              <a href="author.html#2045">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Adrian,
Thanks for you prompt replies :)
@1.) I'll have to test my tool for performance overheads once I finish
it, I hope I would not need this tweaking and it will also be a bit
difficult to do because this is a component of my framework which will
be generated automatically and be used by another component.
@2.) Here is a snippet of ragel code-&gt;
&lt;snip&gt;
	action trigger {
		printf(&quot;Regex Matched!\n&quot;);
	}

	main := any* (2 4 6) @trigger;
&lt;/snip&gt;
I am using very simple regex and actions to see if it works. Both of
these are actually going to be user specified and hence more complex.
So, why am I getting a delay of one token? Even the test printf
statement which is printing the tokens is executed only after I send
the next token! :(

@3.) Yeah, It worked; I just had to add any* :)

Thanks again!
Aditi.

On Jul 12, 9:05 am, Adrian Thurston &lt;<A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">thurs... at cs.queensu.ca</A>&gt; wrote:
&gt;<i> Hi Aditi,
</I>&gt;<i>
</I>&gt;<i> &gt; 1.) %% write exec will be executed in every iteration of the loop.
</I>&gt;<i> &gt; Will this effect the performance? Is there a better way to do it? I
</I>&gt;<i> &gt; couldn't get it working by putting it just once outside the loop. I am
</I>&gt;<i> &gt; using this to build a tool which is required to be efficient, that's
</I>&gt;<i> &gt; why I am concerned with this point.
</I>&gt;<i>
</I>&gt;<i> As far as I can tell you need the code generated by write exec to run on
</I>&gt;<i> every iteration of the loop. The only consideration here is that there
</I>&gt;<i> will be an unnecessary check of p against pe. In this case pe - p always
</I>&gt;<i> equals one. This should just be a few processor instructions however. If
</I>&gt;<i> you really need to squeeze out instructions and you are concerned you
</I>&gt;<i> can always look at the generated code.
</I>&gt;<i>
</I>&gt;<i> &gt; 2.) The printing of the tokens and the action triggered(as of now,
</I>&gt;<i> &gt; just a print statement) happen only after I send the next token. Why
</I>&gt;<i> &gt; is there this delay of one token in the processing. Is my approach not
</I>&gt;<i> &gt; correct?
</I>&gt;<i>
</I>&gt;<i> My best guess is that you are embedding actions using the '%' operator.
</I>&gt;<i> Provide some ragel code and I'll tell ya for certain :)
</I>&gt;<i>
</I>&gt;<i> &gt; 3.) There are certain other issues also, like I want to match this
</I>&gt;<i> &gt; pattern anywhere in the string and may be multiple times if it occurs.
</I>&gt;<i> &gt; This is not happening here. This code works if I give my pattern in
</I>&gt;<i> &gt; the beginning only. What should I do?
</I>&gt;<i>
</I>&gt;<i> See:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://groups.google.com/group/ragel-users/browse_thread/thread/8094b...">http://groups.google.com/group/ragel-users/browse_thread/thread/8094b...</A>
</I>&gt;<i>
</I>&gt;<i> -Adrian
</I>&gt;<i>
</I>&gt;<i>  signature.asc
</I>&gt;<i> 1KDownload
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002044.html">[ragel-users] Re: Problem: Change state only when a new input is received
</A></li>
	<LI>Next message: <A HREF="002046.html">[ragel-users] Re: Problem: Change state only when a new input is received
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2045">[ date ]</a>
              <a href="thread.html#2045">[ thread ]</a>
              <a href="subject.html#2045">[ subject ]</a>
              <a href="author.html#2045">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">More information about the ragel-users
mailing list</a><br>
</body></html>
