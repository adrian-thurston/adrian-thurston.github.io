<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] When exactly is the eof variable required?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20When%20exactly%20is%20the%20eof%20variable%20required%3F&In-Reply-To=%3C63348233.XvRJIlXdaJ%40thorn%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="001657.html">
   <LINK REL="Next"  HREF="001658.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] When exactly is the eof variable required?</H1>
    <B>Tim Goddard</B> 
    <A HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20When%20exactly%20is%20the%20eof%20variable%20required%3F&In-Reply-To=%3C63348233.XvRJIlXdaJ%40thorn%3E"
       TITLE="[ragel-users] When exactly is the eof variable required?">tim at goddard.net.nz
       </A><BR>
    <I>Mon Feb 24 02:28:45 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="001657.html">[ragel-users] When exactly is the eof variable required?
</A></li>
        <LI>Next message: <A HREF="001658.html">[ragel-users] Enabling / disabling transitions depending on host	language expression.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1660">[ date ]</a>
              <a href="thread.html#1660">[ thread ]</a>
              <a href="subject.html#1660">[ subject ]</a>
              <a href="author.html#1660">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm guessing that string can't include the null character, but can be of 
variable length (kleene star, etc). When the expression ends with &quot;string&quot;, 
it could be cut short while still having a valid expression by the end of the 
file, and need to take finishing actions when it sees the EOF. When the 
expression ends with 0, an EOF could not mark the end of the expression 
and cause any other action to be taken, so the eof mark is unused.

The fact that it's a null character will be irrelevant - any character which 
can't be in &quot;string&quot; would have the same effect.

Cheers,

Tim

On Sun, 23 Feb 2014 22:40:59 Gr√©gory Pakosz wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I'm currently discovering Ragel and I am wondering when the eof
</I>&gt;<i> variable is required?
</I>&gt;<i> 
</I>&gt;<i> More exactly, I noticed in the following in the params.rl example:
</I>&gt;<i> 
</I>&gt;<i> output = '-o' 0? string 0 @output;
</I>&gt;<i> 
</I>&gt;<i> I understand the machines are defined to accept and consume NUL
</I>&gt;<i> characters. This is the reason why the params_execute function is
</I>&gt;<i> given strlen(argv[a])+1.
</I>&gt;<i> 
</I>&gt;<i> However, if I change params.rl to:
</I>&gt;<i> 
</I>&gt;<i> output = '-o' 0? string @output;
</I>&gt;<i> 
</I>&gt;<i> Then Ragel starts making use of the eof variable, which params.rl
</I>&gt;<i> doesn't define.
</I>&gt;<i> 
</I>&gt;<i> Can someone please explain me why removing that 0 in the machine 
</I>makes
&gt;<i> Ragel use the eof variable?
</I>&gt;<i> 
</I>&gt;<i> Thank you,
</I>&gt;<i> Gregory
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> ragel-users mailing list
</I>&gt;<i> <A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">ragel-users at complang.org</A>
</I>&gt;<i> <A HREF="http://www.complang.org/mailman/listinfo/ragel-users">http://www.complang.org/mailman/listinfo/ragel-users</A>
</I>
_______________________________________________
ragel-users mailing list
<A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">ragel-users at complang.org</A>
<A HREF="http://www.complang.org/mailman/listinfo/ragel-users">http://www.complang.org/mailman/listinfo/ragel-users</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001657.html">[ragel-users] When exactly is the eof variable required?
</A></li>
	<LI>Next message: <A HREF="001658.html">[ragel-users] Enabling / disabling transitions depending on host	language expression.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1660">[ date ]</a>
              <a href="thread.html#1660">[ thread ]</a>
              <a href="subject.html#1660">[ subject ]</a>
              <a href="author.html#1660">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">More information about the ragel
mailing list</a><br>
</body></html>
