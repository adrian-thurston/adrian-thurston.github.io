<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] Any chance of rlcodegen outputting pure-ruby
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Any%20chance%20of%20rlcodegen%20outputting%20pure-ruby&In-Reply-To=%3C45A314BC.7090500%40cs.queensu.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000101.html">
   <LINK REL="Next"  HREF="000103.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] Any chance of rlcodegen outputting pure-ruby</H1>
    <B>Adrian Thurston</B> 
    <A HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Any%20chance%20of%20rlcodegen%20outputting%20pure-ruby&In-Reply-To=%3C45A314BC.7090500%40cs.queensu.ca%3E"
       TITLE="[ragel-users] Any chance of rlcodegen outputting pure-ruby">thurs... at cs.queensu.ca
       </A><BR>
    <I>Tue Jan  9 04:06:20 UTC 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000101.html">Any chance of rlcodegen outputting pure-ruby
</A></li>
        <LI>Next message: <A HREF="000103.html">Any chance of rlcodegen outputting pure-ruby
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#102">[ date ]</a>
              <a href="thread.html#102">[ thread ]</a>
              <a href="subject.html#102">[ subject ]</a>
              <a href="author.html#102">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Matt, it wouldn't be too much work to add a Ruby backend. I can't 
commit much time to it right now (school is very busy). But I'd be happy 
to help out anyone that wants to try it.

I don't know Ruby all that well so there may be issues which crop up. 
Some things to consider:

Table-based parses will be the easiest to port. Start with the generated 
C code (or maybe Java) for some working parser, then port it to Ruby and 
get it working. You should be able to then just rip out the driver code 
and stick it into rlcodegen.

The fastest code generated by Ragel is directly executable. This relies 
on having a goto. A lack of goto is also a problem for Ragel+Java. Colin 
Fleming discussed generating Java byte code directly to get around this 
issue. The same might be an option for Ruby.

Some changes will need to be made to the frontend. Ruby comments and 
literals will need to be supported and the ruby integral types 
represented. I'm currently in the middle of rewriting the Ragel frontend 
parser. When that's done it will be a better time to add a scanner for 
Ruby which can properly separate Ragel code from Ruby code.

Cheers,
  Adrian

Matt Mower wrote:
&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I realise that wrapping the C code generated by Ragel into a Ruby
</I>&gt;<i> extension is a reasonably simple exercise but I really think it would
</I>&gt;<i> help with adoption if Ragel could directly generate Ruby source code.
</I>&gt;<i> 
</I>&gt;<i> Is there any likelyhood of that happening? Or does it need someone
</I>&gt;<i> from the Ruby side to pitch in? And how hard might that be?
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> 
</I>&gt;<i> Matt
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000101.html">Any chance of rlcodegen outputting pure-ruby
</A></li>
	<LI>Next message: <A HREF="000103.html">Any chance of rlcodegen outputting pure-ruby
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#102">[ date ]</a>
              <a href="thread.html#102">[ thread ]</a>
              <a href="subject.html#102">[ subject ]</a>
              <a href="author.html#102">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">More information about the ragel
mailing list</a><br>
</body></html>
