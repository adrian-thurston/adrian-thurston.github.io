<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Any chance of rlcodegen outputting pure-ruby
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20Any%20chance%20of%20rlcodegen%20outputting%20pure-ruby&In-Reply-To=%3C1168424365.999868.266240%40p59g2000hsd.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="001865.html">
   <LINK REL="Next"  HREF="001867.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Any chance of rlcodegen outputting pure-ruby</H1>
    <B>Victor Hugo Borja</B> 
    <A HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20Any%20chance%20of%20rlcodegen%20outputting%20pure-ruby&In-Reply-To=%3C1168424365.999868.266240%40p59g2000hsd.googlegroups.com%3E"
       TITLE="Any chance of rlcodegen outputting pure-ruby">vhbo... at gmail.com
       </A><BR>
    <I>Wed Jan 10 10:19:25 UTC 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001865.html">[ragel-users] Any chance of rlcodegen outputting pure-ruby
</A></li>
        <LI>Next message: <A HREF="001867.html">[ragel-users] Re: Any chance of rlcodegen outputting pure-ruby
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1866">[ date ]</a>
              <a href="thread.html#1866">[ thread ]</a>
              <a href="subject.html#1866">[ subject ]</a>
              <a href="author.html#1866">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matt,

I'm also interested on getting Ragel to output ruby, today I've been
working on this.
Following Adrian's advice, I decided to start by porting a simple
generated parser from c to ruby.
Once the ruby parser was working as expected (used continuations
instead of c' gotos), I started to work on the backend for ragel,
code generation is working now (with awful code indentation atm). the
generated parsers are still somewhat buggy, so I'd appreciate if anyone
could help with tests  for this.

my work up to now is on <A HREF="http://vic.selfip.com/pub/ragel-5.16-rb.tar.gz,">http://vic.selfip.com/pub/ragel-5.16-rb.tar.gz,</A>
check the rbtmp directory if you want to see the ported parser.

I expect to have some time this weekend to fix the generated parsers,
and commit a working patch to Adrian.

Cheers,
--
Victor Hugo Borja.
<A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">v... at rubyforge.org</A>

On Jan 8, 10:06 pm, Adrian Thurston &lt;<A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">thurs... at cs.queensu.ca</A>&gt; wrote:
&gt;<i> Hi Matt, it wouldn't be too much work to add a Ruby backend. I can't
</I>&gt;<i> commit much time to it right now (school is very busy). But I'd be happy
</I>&gt;<i> to help out anyone that wants to try it.
</I>&gt;<i>
</I>&gt;<i> I don't know Ruby all that well so there may be issues which crop up.
</I>&gt;<i> Some things to consider:
</I>&gt;<i>
</I>&gt;<i> Table-based parses will be the easiest to port. Start with the generated
</I>&gt;<i> C code (or maybe Java) for some working parser, then port it to Ruby and
</I>&gt;<i> get it working. You should be able to then just rip out the driver code
</I>&gt;<i> and stick it into rlcodegen.
</I>&gt;<i>
</I>&gt;<i> The fastest code generated by Ragel is directly executable. This relies
</I>&gt;<i> on having a goto. A lack of goto is also a problem for Ragel+Java. Colin
</I>&gt;<i> Fleming discussed generating Java byte code directly to get around this
</I>&gt;<i> issue. The same might be an option for Ruby.
</I>&gt;<i>
</I>&gt;<i> Some changes will need to be made to the frontend. Ruby comments and
</I>&gt;<i> literals will need to be supported and the ruby integral types
</I>&gt;<i> represented. I'm currently in the middle of rewriting the Ragel frontend
</I>&gt;<i> parser. When that's done it will be a better time to add a scanner for
</I>&gt;<i> Ruby which can properly separate Ragel code from Ruby code.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i>   Adrian
</I>&gt;<i>
</I>&gt;<i> Matt Mower wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Hi,
</I>&gt;<i>
</I>&gt;<i> &gt; I realise that wrapping the C code generated by Ragel into a Ruby
</I>&gt;<i> &gt; extension is a reasonably simple exercise but I really think it would
</I>&gt;<i> &gt; help with adoption if Ragel could directly generate Ruby source code.
</I>&gt;<i>
</I>&gt;<i> &gt; Is there any likelyhood of that happening? Or does it need someone
</I>&gt;<i> &gt; from the Ruby side to pitch in? And how hard might that be?
</I>&gt;<i> 
</I>&gt;<i> &gt; Regards,
</I>&gt;<i> 
</I>&gt;<i> &gt; Matt
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001865.html">[ragel-users] Any chance of rlcodegen outputting pure-ruby
</A></li>
	<LI>Next message: <A HREF="001867.html">[ragel-users] Re: Any chance of rlcodegen outputting pure-ruby
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1866">[ date ]</a>
              <a href="thread.html#1866">[ thread ]</a>
              <a href="subject.html#1866">[ subject ]</a>
              <a href="author.html#1866">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">More information about the ragel-users
mailing list</a><br>
</body></html>
