<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] Re: Fixing an edge case
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Re%3A%20Fixing%20an%20edge%20case&In-Reply-To=%3C45AD804B.9060806%40cs.queensu.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="001874.html">
   <LINK REL="Next"  HREF="000106.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] Re: Fixing an edge case</H1>
    <B>Adrian Thurston</B> 
    <A HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Re%3A%20Fixing%20an%20edge%20case&In-Reply-To=%3C45AD804B.9060806%40cs.queensu.ca%3E"
       TITLE="[ragel-users] Re: Fixing an edge case">thurs... at cs.queensu.ca
       </A><BR>
    <I>Wed Jan 17 01:47:55 UTC 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001874.html">[ragel-users] Re: Fixing an edge case
</A></li>
        <LI>Next message: <A HREF="000106.html">Ragel chat
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1875">[ date ]</a>
              <a href="thread.html#1875">[ thread ]</a>
              <a href="subject.html#1875">[ subject ]</a>
              <a href="author.html#1875">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Matt Mower wrote:
&gt;&gt;<i> diff2 = (
</I>&gt;&gt;<i>         diffHeader %empty_diff %/empty_diff |
</I>&gt;&gt;<i>         diffHeader ( binaryDiff | textDiff )
</I>&gt;&gt;<i> );
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> Interesting, so it can track that the leaving action should only
</I>&gt;<i> happen when neither of the non-empty diff paths is taken after
</I>&gt;<i> reduction? My gut feeling would have been that it would end up
</I>&gt;<i> executing them every time. I shall have to graph it and take a look.
</I>
Leaving actions initially go into final states. They stay there, inactive,
until transitions are made which leave the machine from those final states.
This leaving is either by concatenation or by kleene star. So the
%empty_diff is left alone by the union, but when kleene star is applied to
diff2 it is transferred to the transition which wraps around and starts
diff2 over again.

If you were to use the @ action embedding operator then it would be executed
on the final character of diffHeader in both cases because it goes right
into transitions. It is not 'pending' as is the % operator.

Regards,
 Adrian

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001874.html">[ragel-users] Re: Fixing an edge case
</A></li>
	<LI>Next message: <A HREF="000106.html">Ragel chat
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1875">[ date ]</a>
              <a href="thread.html#1875">[ thread ]</a>
              <a href="subject.html#1875">[ subject ]</a>
              <a href="author.html#1875">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">More information about the ragel-users
mailing list</a><br>
</body></html>
