<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] The meaning of Figure 2.1 in the manual
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20The%20meaning%20of%20Figure%202.1%20in%20the%20manual&In-Reply-To=%3CCABrM6wmaLEjwnUG37BPj-x1i0sBn%2BWJzimdvrVoi%3DyG2pYVTUw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="003610.html">
   <LINK REL="Next"  HREF="003615.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] The meaning of Figure 2.1 in the manual</H1>
    <B>Peng Yu</B> 
    <A HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20The%20meaning%20of%20Figure%202.1%20in%20the%20manual&In-Reply-To=%3CCABrM6wmaLEjwnUG37BPj-x1i0sBn%2BWJzimdvrVoi%3DyG2pYVTUw%40mail.gmail.com%3E"
       TITLE="[ragel-users] The meaning of Figure 2.1 in the manual">pengyu.ut at gmail.com
       </A><BR>
    <I>Sat Feb 23 06:59:18 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="003610.html">[ragel-users] The meaning of Figure 2.1 in the manual
</A></li>
        <LI>Next message: <A HREF="003615.html">[ragel-users] The meaning of Figure 2.1 in the manual
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3612">[ date ]</a>
              <a href="thread.html#3612">[ thread ]</a>
              <a href="subject.html#3612">[ subject ]</a>
              <a href="author.html#3612">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Can I recommend adding more examples (not just ragel code snippet, but
complete recipes of minimal working examples, including command line
commands, meanings of input and output, how the generated C code structure
and works, etc). It must be both minimal and working. “Minimal” means, to
show a point, don’t show any code more than necessary to demonstrate the
point. Working means the recipe should just work, it should not require use
to first understand it meaning then add some missing pieces to make it work.

I graduately get what it means in the manual by fill in these holes myself.
But It is too slow. It should not be in this way had the manual were
written in a more new-user friendly manner.

In this specific case, my understanding of its purpose is to just show some
simple ragel code that will run. I’d suggest that you don’t show the “0”.
If you must show it, explain what it means right after showing the example.
What it should not be done is to use it but not explain it. Things like
this just make the manual hard to understand, at it causes cyclic
dependency.

Dose it make sense?


On Sat, Feb 23, 2019 at 3:39 AM Adrian Thurston &lt;<A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">thurston at colm.net</A>&gt; wrote:

&gt;<i> Hi Peng, I recommend you read a bit more of the manual. You'll find all
</I>&gt;<i> the answers there. Thanks!
</I>&gt;<i>
</I>&gt;<i> On 2019-02-22 08:35, Peng Yu wrote:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have a hard time to understand the exact meaning of Figure 2.1. I
</I>&gt;<i> &gt; understand the regex part.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; But what `0 @{ res = 1; };` means.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; How p and pe are used in `write init` and `write exec`?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; char *p = argv[1];
</I>&gt;<i> &gt; char *pe = p + strlen(p) + 1;
</I>&gt;<i> &gt; %% write init;
</I>&gt;<i> &gt; %% write exec;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; How to make the example on the right-hand-side of Figure 2.1 compiled?
</I>&gt;<i> &gt; Thanks.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; #include &lt;string.h&gt;
</I>&gt;<i> &gt; #include &lt;stdio.h&gt;
</I>&gt;<i> &gt; %%{
</I>&gt;<i> &gt; machine foo;
</I>&gt;<i> &gt; main :=
</I>&gt;<i> &gt; ( 'foo' | 'bar' )
</I>&gt;<i> &gt; 0 @{ res = 1; };
</I>&gt;<i> &gt; }%%
</I>&gt;<i> &gt; %% write data;
</I>&gt;<i> &gt; int main( int argc, char **argv )
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt; int cs, res = 0;
</I>&gt;<i> &gt; if ( argc &gt; 1 ) {
</I>&gt;<i> &gt; char *p = argv[1];
</I>&gt;<i> &gt; char *pe = p + strlen(p) + 1;
</I>&gt;<i> &gt; %% write init;
</I>&gt;<i> &gt; %% write exec;
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt; printf(&quot;result = %i\n&quot;, res );
</I>&gt;<i> &gt; return 0;
</I>&gt;<i> &gt; }
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> ragel-users mailing list
</I>&gt;<i> <A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">ragel-users at colm.net</A>
</I>&gt;<i> <A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users</A>
</I>
-- 
Regards,
Peng
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://www.colm.net/pipermail/ragel-users/attachments/20190223/157c539a/attachment-0001.html">http://www.colm.net/pipermail/ragel-users/attachments/20190223/157c539a/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003610.html">[ragel-users] The meaning of Figure 2.1 in the manual
</A></li>
	<LI>Next message: <A HREF="003615.html">[ragel-users] The meaning of Figure 2.1 in the manual
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3612">[ date ]</a>
              <a href="thread.html#3612">[ thread ]</a>
              <a href="subject.html#3612">[ subject ]</a>
              <a href="author.html#3612">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">More information about the ragel-users
mailing list</a><br>
</body></html>
