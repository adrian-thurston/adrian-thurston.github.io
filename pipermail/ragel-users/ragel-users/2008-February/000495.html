<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] Possible bug in Ragel 6.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Possible%20bug%20in%20Ragel%206.0&In-Reply-To=%3C204599606-1203976929-cardhu_decombobulator_blackberry.rim.net-478584715-%40bxe150.bisx.prod.on.blackberry%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000494.html">
   <LINK REL="Next"  HREF="000508.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] Possible bug in Ragel 6.0</H1>
    <B>Adrian Thurston</B> 
    <A HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Possible%20bug%20in%20Ragel%206.0&In-Reply-To=%3C204599606-1203976929-cardhu_decombobulator_blackberry.rim.net-478584715-%40bxe150.bisx.prod.on.blackberry%3E"
       TITLE="[ragel-users] Possible bug in Ragel 6.0">thurs... at cs.queensu.ca
       </A><BR>
    <I>Mon Feb 25 22:02:11 UTC 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000494.html">Possible bug in Ragel 6.0
</A></li>
        <LI>Next message: <A HREF="000508.html">% Leaving Action Questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#495">[ date ]</a>
              <a href="thread.html#495">[ thread ]</a>
              <a href="subject.html#495">[ subject ]</a>
              <a href="author.html#495">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Manoj, thanks for tracking this down. The point zero releases often have a few issues. I'll be able to look at this next week.

Cheers,
 Adrian
-----Original Message-----
From: Manoj Rajagopalan &lt;<A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">manoj at nanorex.com</A>&gt;

Date: Thu, 21 Feb 2008 12:33:57 
To:<A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">ragel-users at googlegroups.com</A>
Subject: [ragel-users] Possible bug in Ragel 6.0


Hi all,

   Ragel has been crashing with non-descript errors and I've spent a lot 
of time trying to find out the cause of the crash. I've made partial 
progress and would like to inform you about this and could benefit from 
an expert's help.

  I'm attaching a ragel file that I'm trying to compile with the command:

   ragel -C mmp-parser.rl -o mmp-parser.cpp

The crash is in the front-end and the segfault can be seen with

   ragel -x mmp-parser.rl

 From the backtrace, I've been able to see that in the following lines 
(ragel/fsmgraph.cpp: 226-229)

     for ( StateSet::Iter st = finStateSet; st.lte(); st++ ) {
         if ( *st != startState )
             mergeStatesLeaving( md, *st, startState );
     }

the value returned by *st is (StateAp *)0x0, NULL pointer! This is what 
is causing the segfault.

So StateSet is a container (a Vector&lt;StateAp*&gt;) with one entry being a 
NULL pointer. Does someone know how this could creep in?

Thanks,
Manoj



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000494.html">Possible bug in Ragel 6.0
</A></li>
	<LI>Next message: <A HREF="000508.html">% Leaving Action Questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#495">[ date ]</a>
              <a href="thread.html#495">[ thread ]</a>
              <a href="subject.html#495">[ subject ]</a>
              <a href="author.html#495">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">More information about the ragel
mailing list</a><br>
</body></html>
