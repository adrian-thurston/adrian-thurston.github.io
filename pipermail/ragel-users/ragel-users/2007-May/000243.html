<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Scanner question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20Scanner%20question&In-Reply-To=%3C1179147997.685964.230190%40e65g2000hsc.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="002003.html">
   <LINK REL="Next"  HREF="002007.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Scanner question</H1>
    <B>metatr... at gmail.com</B> 
    <A HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20Scanner%20question&In-Reply-To=%3C1179147997.685964.230190%40e65g2000hsc.googlegroups.com%3E"
       TITLE="Scanner question">metatr... at gmail.com
       </A><BR>
    <I>Mon May 14 13:06:37 UTC 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002003.html">[ragel-users] Re: Newbie question: Scanners?
</A></li>
        <LI>Next message: <A HREF="002007.html">[ragel-users] Scanner question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#243">[ date ]</a>
              <a href="thread.html#243">[ thread ]</a>
              <a href="subject.html#243">[ subject ]</a>
              <a href="author.html#243">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone.  I've been trying out Ragel for a number of things, first
of which is matching a token from a list of possibilities.  Sounds
perfect for a scanner!

Here's a really simple example:

%%{

  machine scanner;

  main := |*
  'A'		          %/ { t = TOK_A; };
  'AB'		         %/ { t = TOK_AB; };
  'ABC'  		%/ { t = TOK_ABC; };
          *|;
}%%

The EOF actions do the matching and return the right value to the next
part of the parser.

My problem is that if you run this machine definition through
rlcodegen -V and dotty, there doesn't seem to be any sequence of
states to match the longest string, ABC.  You can follow along the
state machine and see the transitions (A, EOF) and (A, B, EOF) but for
ABC, there doesn't seem to be (A, B, C, EOF).  This is borne out by
filling in a simple processing loop processing a static string.  It
will match 'A', 'AB' but not 'ABC'.

I'm hoping this is something silly on my part - any hints are much
appreciated!


MT.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002003.html">[ragel-users] Re: Newbie question: Scanners?
</A></li>
	<LI>Next message: <A HREF="002007.html">[ragel-users] Scanner question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#243">[ date ]</a>
              <a href="thread.html#243">[ thread ]</a>
              <a href="subject.html#243">[ subject ]</a>
              <a href="author.html#243">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">More information about the ragel-users
mailing list</a><br>
</body></html>
