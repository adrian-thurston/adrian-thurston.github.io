<tt>
Hi&nbsp;Erich,&lt;br&gt;&lt;br&gt;I&nbsp;had&nbsp;not&nbsp;come&nbsp;across&nbsp;Harel&#39;s&nbsp;work&nbsp;before&nbsp;(believe&nbsp;it&nbsp;or&nbsp;not)&nbsp;so&nbsp;I&nbsp;read&nbsp;the&nbsp;paper&nbsp;containing&nbsp;the&nbsp;&quot;spec&quot;&nbsp;you&nbsp;mentioned.&nbsp;It&nbsp;was,&nbsp;needless&nbsp;to&nbsp;say,&nbsp;extremely&nbsp;interesting,&nbsp;and&nbsp;very&nbsp;relevant&nbsp;for&nbsp;the&nbsp;systems&nbsp;I&nbsp;design&nbsp;at&nbsp;work&nbsp;(which,&nbsp;I&nbsp;have&nbsp;only&nbsp;recently&nbsp;come&nbsp;to&nbsp;realize,&nbsp;are&nbsp;soft&nbsp;real-time&nbsp;systems).&nbsp;Having&nbsp;poked&nbsp;around&nbsp;in&nbsp;Ragel&nbsp;a&nbsp;little&nbsp;more&nbsp;I&nbsp;see&nbsp;that&nbsp;you&nbsp;are&nbsp;of&nbsp;course&nbsp;right&nbsp;when&nbsp;you&nbsp;say&nbsp;that&nbsp;it&nbsp;should&nbsp;complement&nbsp;rather&nbsp;than&nbsp;replace&nbsp;a&nbsp;hand-coded&nbsp;statechart.&lt;br&gt;<br>
&lt;br&gt;Do&nbsp;you&nbsp;know&nbsp;of&nbsp;any&nbsp;examples&nbsp;of&nbsp;statecharts&nbsp;describing&nbsp;a&nbsp;protocol&nbsp;handler,&nbsp;or&nbsp;any&nbsp;good&nbsp;resources&nbsp;around&nbsp;statechart&nbsp;diagrams&nbsp;in&nbsp;general?&lt;br&gt;&lt;br&gt;-Ross&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;May&nbsp;13,&nbsp;2008&nbsp;at&nbsp;6:43&nbsp;AM,&nbsp;Erich&nbsp;Ocean&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:er...@atlasocean.com&quot;&gt;er...@atlasocean.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&lt;br&gt;<br>
Ross,&lt;br&gt;<br>
&lt;br&gt;<br>
Statecharts&nbsp;are&nbsp;trivial&nbsp;to&nbsp;code&nbsp;by&nbsp;hand,&nbsp;using&nbsp;case&nbsp;and&nbsp;switch&lt;br&gt;<br>
statements,&nbsp;and&nbsp;result&nbsp;in&nbsp;roughly&nbsp;the&nbsp;same&nbsp;amount&nbsp;of&nbsp;code&nbsp;as&nbsp;a&lt;br&gt;<br>
straight&nbsp;Ragel&nbsp;implementation&nbsp;would.&nbsp;In&nbsp;addition,&nbsp;the&nbsp;hand-coded&lt;br&gt;<br>
variants&nbsp;are&nbsp;more&nbsp;flexible,&nbsp;since&nbsp;you&nbsp;can&nbsp;implement&nbsp;the&nbsp;full&nbsp;&quot;spec&quot;&nbsp;as&lt;br&gt;<br>
designed&nbsp;by&nbsp;Harel.&nbsp;You&nbsp;can&nbsp;also&nbsp;easily&nbsp;embed&nbsp;Ragel&nbsp;regex-style&lt;br&gt;<br>
machines&nbsp;in&nbsp;the&nbsp;various&nbsp;states&nbsp;as&nbsp;needed&nbsp;when&nbsp;you&nbsp;hand&nbsp;code,&nbsp;and&lt;br&gt;<br>
Adrian&#39;s&nbsp;code&nbsp;generation&nbsp;approach&nbsp;makes&nbsp;that&nbsp;particularly&nbsp;easy.&lt;br&gt;<br>
&lt;br&gt;<br>
Bottom-line:&nbsp;hand-code&nbsp;statecharts.&nbsp;The&nbsp;hard&nbsp;part&nbsp;is&nbsp;creating&nbsp;the&lt;br&gt;<br>
statecharts&nbsp;themselves&nbsp;(I&nbsp;use&nbsp;OmniGraffle),&nbsp;not&nbsp;coding&nbsp;them&nbsp;up.&lt;br&gt;<br>
&lt;br&gt;<br>
That&nbsp;said,&nbsp;I&nbsp;wouldn&#39;t&nbsp;create&nbsp;a&nbsp;protocol&nbsp;handler&nbsp;without&nbsp;them.&nbsp;They&nbsp;are&lt;br&gt;<br>
extraordinarily&nbsp;efficient,&nbsp;**easy**&nbsp;to&nbsp;debug,&nbsp;and&nbsp;quick&nbsp;to&nbsp;modify.&nbsp;I&lt;br&gt;<br>
create&nbsp;and&nbsp;modify&nbsp;statechart-based&nbsp;code&nbsp;daily&nbsp;at&nbsp;my&nbsp;day&nbsp;job,&nbsp;and&nbsp;use&lt;br&gt;<br>
statecharts&nbsp;on&nbsp;my&nbsp;own&nbsp;projects.&lt;br&gt;<br>
&lt;br&gt;<br>
Zed&nbsp;Shaw&nbsp;has&nbsp;done&nbsp;some&nbsp;work&nbsp;with&nbsp;Ragel&nbsp;and&nbsp;statecharts&nbsp;if&nbsp;you&nbsp;still&lt;br&gt;<br>
want&nbsp;to&nbsp;go&nbsp;down&nbsp;that&nbsp;path:&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://www.zedshaw.com/tips/ragel_state_charts.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.zedshaw.com/tips/ragel_state_charts.html&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Best,&nbsp;Erich&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;&lt;br&gt;<br>
On&nbsp;May&nbsp;12,&nbsp;2008,&nbsp;at&nbsp;9:46&nbsp;PM,&nbsp;Ross&nbsp;Thomas&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;It&nbsp;seems&nbsp;to&nbsp;me&nbsp;that&nbsp;the&nbsp;approach&nbsp;I&nbsp;describe&nbsp;cannot&nbsp;work&nbsp;as&nbsp;I&nbsp;wanted&nbsp;it&lt;br&gt;<br>
&gt;&nbsp;to,&nbsp;because&nbsp;the&nbsp;regexps&nbsp;matching&nbsp;the&nbsp;commands&nbsp;are&nbsp;duplicated&nbsp;for&nbsp;each&lt;br&gt;<br>
&gt;&nbsp;state,&nbsp;only&nbsp;with&nbsp;a&nbsp;different&nbsp;target&nbsp;state.&nbsp;For&nbsp;example:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;main&nbsp;:=&nbsp;(&lt;br&gt;<br>
&gt;&nbsp;&nbsp;&nbsp;&nbsp;start:&nbsp;(&lt;br&gt;<br>
&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;-&gt;&nbsp;a&lt;br&gt;<br>
&gt;&nbsp;&nbsp;&nbsp;&nbsp;),&lt;br&gt;<br>
&gt;&nbsp;&nbsp;&nbsp;&nbsp;a:&nbsp;(&lt;br&gt;<br>
&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;-&gt;&nbsp;b&lt;br&gt;<br>
&gt;&nbsp;&nbsp;&nbsp;&nbsp;),&lt;br&gt;<br>
&gt;&nbsp;&nbsp;&nbsp;&nbsp;...&lt;br&gt;<br>
&gt;&nbsp;);&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Given&nbsp;the&nbsp;input&nbsp;[1,&nbsp;1]&nbsp;the&nbsp;machine&nbsp;will&nbsp;end&nbsp;up&nbsp;in&nbsp;state&nbsp;&quot;a&quot;,&nbsp;not&nbsp;state&lt;br&gt;<br>
&gt;&nbsp;&quot;final&quot;&nbsp;as&nbsp;I&nbsp;thought.&nbsp;Which&nbsp;makes&nbsp;sense&nbsp;now&nbsp;I&nbsp;think&nbsp;about&nbsp;it.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Back&nbsp;to&nbsp;the&nbsp;drawing&nbsp;board...&nbsp;:)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-Ross&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;Mon,&nbsp;May&nbsp;12,&nbsp;2008&nbsp;at&nbsp;6:15&nbsp;PM,&nbsp;Adrian&nbsp;Thurston&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:thurs...@cs.queensu.ca&quot;&gt;thurs...@cs.queensu.ca&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&nbsp;Hi&nbsp;Ross,&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;To&nbsp;be&nbsp;honest&nbsp;I&nbsp;don&#39;t&nbsp;have&nbsp;much&nbsp;experience&nbsp;with&nbsp;this&nbsp;approach.&lt;br&gt;<br>
&gt;&gt;&nbsp;Statecharts&nbsp;were&nbsp;originally&nbsp;made&nbsp;for&nbsp;small&nbsp;low-level&nbsp;machines&nbsp;that&lt;br&gt;<br>
&gt;&gt;&nbsp;are&nbsp;awkward&nbsp;to&nbsp;do&nbsp;with&nbsp;regular&nbsp;expressions.&nbsp;But&nbsp;they&nbsp;turned&nbsp;out&nbsp;to&lt;br&gt;<br>
&gt;&gt;&nbsp;be&nbsp;more&nbsp;useful.&nbsp;The&nbsp;only&nbsp;issue&nbsp;I&nbsp;can&nbsp;think&nbsp;of&nbsp;is&nbsp;dealing&nbsp;with&lt;br&gt;<br>
&gt;&gt;&nbsp;whitespace&nbsp;...&nbsp;but&nbsp;I&nbsp;don&#39;t&nbsp;know&nbsp;SMTP&nbsp;well&nbsp;enough&nbsp;to&nbsp;say&nbsp;for&nbsp;sure.&lt;br&gt;<br>
&gt;&gt;&nbsp;Let&nbsp;us&nbsp;know&nbsp;if&nbsp;if&nbsp;you&nbsp;pursue&nbsp;it&nbsp;and&nbsp;it&nbsp;works&nbsp;out&nbsp;:)&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Adrian&lt;br&gt;<br>
&gt;&gt;&nbsp;-----Original&nbsp;Message-----&lt;br&gt;<br>
&gt;&gt;&nbsp;From:&nbsp;&quot;Ross&nbsp;Thomas&quot;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:halfacan...@gmail.com&quot;&gt;halfacan...@gmail.com&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Date:&nbsp;Mon,&nbsp;12&nbsp;May&nbsp;2008&nbsp;15:17:27&lt;br&gt;<br>
&gt;&gt;&nbsp;To:ragel-users&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:ragel-users@googlegroups.com&quot;&gt;ragel-users@googlegroups.com&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Subject:&nbsp;[ragel-users]&nbsp;Re:&nbsp;Any&nbsp;suggestions&nbsp;on&nbsp;implementing&nbsp;SMTP&lt;br&gt;<br>
&gt;&gt;&nbsp;protocol&nbsp;in&lt;br&gt;<br>
&gt;&gt;&nbsp;Ragel?&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;To&nbsp;reduce&nbsp;the&nbsp;scope&nbsp;of&nbsp;my&nbsp;question&nbsp;a&nbsp;little,&nbsp;here&nbsp;is&nbsp;the&nbsp;general&lt;br&gt;<br>
&gt;&gt;&nbsp;structure&nbsp;I&nbsp;have&nbsp;so&nbsp;far:&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&nbsp;&nbsp;main&nbsp;:=&nbsp;(&lt;br&gt;<br>
&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start:&nbsp;(&lt;br&gt;<br>
&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;helo&nbsp;@copy_helo&nbsp;@resp_250&nbsp;-&gt;&nbsp;wait_mail&nbsp;|&lt;br&gt;<br>
&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mail&nbsp;@resp_503&nbsp;-&gt;&nbsp;start&nbsp;|&lt;br&gt;<br>
&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vrfy&nbsp;@resp_503&nbsp;-&gt;&nbsp;start&nbsp;|&lt;br&gt;<br>
&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&lt;br&gt;<br>
&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait_mail:&nbsp;(&lt;br&gt;<br>
&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;helo&nbsp;@resp_250&nbsp;-&gt;&nbsp;wait_mail&nbsp;|&lt;br&gt;<br>
&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mail&nbsp;@copy_mail&nbsp;@resp_250&nbsp;-&gt;&nbsp;wait_rcpt&nbsp;|&lt;br&gt;<br>
&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vrfy&nbsp;@resp_252&nbsp;-&gt;&nbsp;wait_mail&nbsp;|&lt;br&gt;<br>
&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&lt;br&gt;<br>
&gt;&gt;&nbsp;&nbsp;&nbsp;);&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Each&nbsp;&quot;helo&quot;,&nbsp;&quot;mail&quot;,&nbsp;&quot;vrfy&quot;&nbsp;etc.&nbsp;machine&nbsp;corresponds&nbsp;to&nbsp;the&nbsp;SMTP&lt;br&gt;<br>
&gt;&gt;&nbsp;command&nbsp;of&nbsp;the&nbsp;same&nbsp;name.&nbsp;They&nbsp;are&nbsp;defined&nbsp;as:&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&nbsp;&nbsp;helo&nbsp;=&nbsp;((&quot;HELO&quot;i&nbsp;|&nbsp;&quot;EHLO&quot;i)&nbsp;&quot;&nbsp;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%sarg&nbsp;graph+&nbsp;%earg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eol);&lt;br&gt;<br>
&gt;&gt;&nbsp;&nbsp;&nbsp;mail&nbsp;=&nbsp;(&nbsp;&quot;MAIL&quot;i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;FROM:&lt;&quot;&nbsp;%sarg&nbsp;path*&nbsp;&nbsp;%earg&nbsp;&quot;&gt;&quot;&nbsp;eol);&lt;br&gt;<br>
&gt;&gt;&nbsp;&nbsp;&nbsp;vrfy&nbsp;=&nbsp;(&nbsp;&quot;VRFY&quot;i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%sarg&nbsp;graph+&nbsp;%earg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eol);&lt;br&gt;<br>
&gt;&gt;&nbsp;&nbsp;&nbsp;...&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;So&nbsp;the&nbsp;idea&nbsp;is&nbsp;that&nbsp;the&nbsp;top-level&nbsp;state&nbsp;chart&nbsp;handles&nbsp;logical&nbsp;flow&lt;br&gt;<br>
&gt;&gt;&nbsp;and&lt;br&gt;<br>
&gt;&gt;&nbsp;knows&nbsp;which&nbsp;commands&nbsp;are&nbsp;valid&nbsp;in&nbsp;which&nbsp;states,&nbsp;and&nbsp;calls&nbsp;the&lt;br&gt;<br>
&gt;&gt;&nbsp;appropriate&nbsp;actions.&nbsp;The&nbsp;tokenizing&nbsp;is&nbsp;done&nbsp;&quot;inline&quot;,&nbsp;as&nbsp;it&nbsp;were.&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Does&nbsp;this&nbsp;strike&nbsp;anyone&nbsp;as&nbsp;a&nbsp;particularly&nbsp;foolish&nbsp;approach?&nbsp;Is&lt;br&gt;<br>
&gt;&gt;&nbsp;there&nbsp;a&lt;br&gt;<br>
&gt;&gt;&nbsp;better&nbsp;way?&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;-Ross&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;On&nbsp;Sun,&nbsp;May&nbsp;11,&nbsp;2008&nbsp;at&nbsp;11:57&nbsp;AM,&nbsp;Ross&nbsp;Thomas&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:halfacan...@gmail.com&quot;&gt;halfacan...@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;While&nbsp;hacking&nbsp;up&nbsp;a&nbsp;parser&nbsp;for&nbsp;SMTP&nbsp;(in&nbsp;an&nbsp;unprecedentedly&nbsp;small&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;amount&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;of&nbsp;time,&nbsp;naturally&nbsp;:))&nbsp;it&nbsp;occurred&nbsp;to&nbsp;me&nbsp;that&nbsp;given&nbsp;Ragel&#39;s&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;ability&nbsp;to&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;mix&nbsp;regular&nbsp;expressions&nbsp;with&nbsp;state&nbsp;charts&nbsp;I&nbsp;could&nbsp;make&nbsp;the&nbsp;same&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;machine&nbsp;double-up&nbsp;as&nbsp;an&nbsp;SMTP&nbsp;protocol&nbsp;handler&nbsp;too.&nbsp;At&nbsp;least,&nbsp;I&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;think&nbsp;I&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;could.&nbsp;Because&nbsp;a&nbsp;significant&nbsp;portion&nbsp;of&nbsp;my&nbsp;work&nbsp;involves&nbsp;the&nbsp;client/&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;server&nbsp;model&nbsp;this&nbsp;is&nbsp;an&nbsp;aspect&nbsp;of&nbsp;Ragel&nbsp;I&#39;d&nbsp;very&nbsp;much&nbsp;like&nbsp;to&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;explore&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;in&nbsp;more&nbsp;detail...&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;I&#39;ve&nbsp;browsed&nbsp;around&nbsp;on&nbsp;the&nbsp;list&nbsp;and&nbsp;read&nbsp;Zed&#39;s&nbsp;post&nbsp;on&nbsp;state&nbsp;charts&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;but&nbsp;still&nbsp;don&#39;t&nbsp;have&nbsp;a&nbsp;totally&nbsp;clear&nbsp;idea&nbsp;on&nbsp;how&nbsp;this&nbsp;might&nbsp;be&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;implemented.&nbsp;Can&nbsp;anyone&nbsp;out&nbsp;there&nbsp;with&nbsp;more&nbsp;Ragel&nbsp;experience&nbsp;point&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;me&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;in&nbsp;the&nbsp;right&nbsp;direction?&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;-Ross&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
