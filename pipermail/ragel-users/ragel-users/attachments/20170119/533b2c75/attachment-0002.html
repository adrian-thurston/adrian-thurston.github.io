<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=utf-8&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&nbsp;class=&quot;&quot;&gt;Try&nbsp;changing&nbsp;the&nbsp;definition&nbsp;of&nbsp;‘content’&nbsp;to:&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;face=&quot;Courier&nbsp;New&quot;&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;content&nbsp;=&nbsp;(&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;face=&quot;Courier&nbsp;New&quot;&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;-&nbsp;(space&nbsp;|&nbsp;'&lt;')&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;face=&quot;Courier&nbsp;New&quot;&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;)+;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;face=&quot;Courier&nbsp;New&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;face=&quot;Courier&nbsp;New&quot;&nbsp;class=&quot;&quot;&gt;Cheers,&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;face=&quot;Courier&nbsp;New&quot;&nbsp;class=&quot;&quot;&gt;ml&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;face=&quot;Courier&nbsp;New&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;On&nbsp;Jan&nbsp;18,&nbsp;2017,&nbsp;at&nbsp;13:38&nbsp;,&nbsp;Andrey&nbsp;Kulikov&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:amdeich@gmail.com&quot;&nbsp;class=&quot;&quot;&gt;amdeich@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Hello,&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;In&nbsp;my&nbsp;project&nbsp;I&nbsp;need&nbsp;to&nbsp;extract&nbsp;links&nbsp;from&nbsp;HTML&nbsp;document.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;For&nbsp;this&nbsp;purpose&nbsp;I've&nbsp;prepared&nbsp;ragel&nbsp;HTML&nbsp;grammar,&nbsp;primarily&nbsp;based&nbsp;on&nbsp;this&nbsp;work:&lt;br&nbsp;class=&quot;&quot;&gt;&lt;a&nbsp;href=&quot;https://github.com/brianpane/jitify-core/blob/master/src/core/jitify_html_lexer.rl&quot;&nbsp;class=&quot;&quot;&gt;https://github.com/brianpane/jitify-core/blob/master/src/core/jitify_html_lexer.rl&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;(mentioned&nbsp;here:&nbsp;&lt;a&nbsp;href=&quot;http://ragel-users.complang.narkive.com/qhjr33zj/ragel-grammars-for-html-css-and-javascript&quot;&nbsp;class=&quot;&quot;&gt;http://ragel-users.complang.narkive.com/qhjr33zj/ragel-grammars-for-html-css-and-javascript&lt;/a&gt;&nbsp;)&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;Almost&nbsp;all&nbsp;works&nbsp;well&nbsp;(thanks&nbsp;for&nbsp;the&nbsp;great&nbsp;tool!),&nbsp;except&nbsp;one&nbsp;issue&nbsp;I&nbsp;can't&nbsp;overcome&nbsp;to&nbsp;date:&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;If&nbsp;I&nbsp;specify&nbsp;this&nbsp;thext&nbsp;as&nbsp;an&nbsp;input:&lt;br&nbsp;class=&quot;&quot;&gt;bbbb&nbsp;&lt;a&nbsp;href=&quot;first_link.aspx&quot;&gt;&nbsp;&nbsp;cccc&lt;a&nbsp;href=&quot;/second_link.aspx&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;my&nbsp;parser&nbsp;can&nbsp;correctly&nbsp;extract&nbsp;first&nbsp;link,&nbsp;but&nbsp;not&nbsp;the&nbsp;second&nbsp;one.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;The&nbsp;difference&nbsp;between&nbsp;them&nbsp;is&nbsp;that&nbsp;there&nbsp;is&nbsp;a&nbsp;space&nbsp;between&nbsp;'bbbb'&nbsp;and&nbsp;'&lt;a',&nbsp;but&nbsp;no&nbsp;spaces&nbsp;between&nbsp;'cccc'&nbsp;and&nbsp;'&lt;a'.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;In&nbsp;general,&nbsp;if&nbsp;any&nbsp;text,&nbsp;except&nbsp;spaces,&nbsp;exists&nbsp;before&nbsp;'&lt;a'&nbsp;tag&nbsp;it&nbsp;makes&nbsp;parses&nbsp;consider&nbsp;it&nbsp;as&nbsp;content,&nbsp;and&nbsp;parser&nbsp;do&nbsp;not&nbsp;recognize&nbsp;tag&nbsp;open.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;Could&nbsp;please&nbsp;anyone&nbsp;give&nbsp;any&nbsp;hint&nbsp;how&nbsp;to&nbsp;improve&nbsp;existing&nbsp;grammar,&nbsp;in&nbsp;order&nbsp;to&nbsp;make&nbsp;it&nbsp;recognize&nbsp;tag&nbsp;open?&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;Please&nbsp;find&nbsp;attached&nbsp;intentionally&nbsp;simplified&nbsp;sample&nbsp;with&nbsp;grammar,&nbsp;aiming&nbsp;to&nbsp;work&nbsp;as&nbsp;C&nbsp;program&nbsp;(&nbsp;ngx_url_html_portion.rl&nbsp;).&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;There&nbsp;is&nbsp;also&nbsp;input&nbsp;file&nbsp;input-nbsp.html&nbsp;,&nbsp;which&nbsp;expected&nbsp;to&nbsp;contain&nbsp;input&nbsp;for&nbsp;the&nbsp;application.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;In&nbsp;order&nbsp;to&nbsp;play&nbsp;with&nbsp;it,&nbsp;make&nbsp;.c-file&nbsp;from&nbsp;grammar:&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;ragel&nbsp;ngx_url_html_portion.rl&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;then&nbsp;compile&nbsp;resulting&nbsp;.c-file&nbsp;and&nbsp;run&nbsp;programm.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Input&nbsp;file&nbsp;should&nbsp;be&nbsp;in&nbsp;the&nbsp;same&nbsp;directory.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Will&nbsp;be&nbsp;&lt;span&nbsp;id=&quot;gmail-result_box&quot;&nbsp;class=&quot;gmail-short_text&quot;&nbsp;lang=&quot;en&quot;&gt;&lt;span&nbsp;class=&quot;gmail-&quot;&gt;sincerely&nbsp;&lt;/span&gt;&lt;/span&gt;grateful&nbsp;for&nbsp;any&nbsp;clue.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;--&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Andrey&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;span&nbsp;id=&quot;cid:F4DA4ADF-3727-40D2-BF7B-816B9C66055A&quot;&gt;&lt;input-nbsp.html&gt;&lt;/span&gt;&lt;span&nbsp;id=&quot;cid:048AD408-AFC2-4576-A7C5-F5C5E06E2E41&quot;&gt;&lt;ngx_url_html_portion.rl&gt;&lt;/span&gt;_______________________________________________&lt;br&nbsp;class=&quot;&quot;&gt;ragel&nbsp;mailing&nbsp;list&lt;br&nbsp;class=&quot;&quot;&gt;&lt;a&nbsp;href=&quot;mailto:ragel@colm.net&quot;&nbsp;class=&quot;&quot;&gt;ragel@colm.net&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;http://www.colm.net/cgi-bin/mailman/listinfo/ragel&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
