<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;12pt;<br>
font-family:Calibri<br>
}<br>
--&gt;&lt;/style&gt;&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;I&nbsp;have&nbsp;a&nbsp;struct,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;typedef&nbsp;struct&nbsp;{&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;char*&nbsp;start_add;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;char*&nbsp;end_add;&lt;/div&gt;&lt;div&gt;}&nbsp;string_def;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;used&nbsp;the&nbsp;example&nbsp;from&nbsp;the&nbsp;documentation,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;#include&nbsp;&lt;string.h&gt;&lt;/div&gt;&lt;div&gt;#include&nbsp;&lt;stdio.h&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;%%{&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;machine&nbsp;foo;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;main&nbsp;:=&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;'foo'&nbsp;|&nbsp;'bar'&nbsp;)&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;@{&nbsp;res&nbsp;=&nbsp;1;&nbsp;};&lt;/div&gt;&lt;div&gt;}%%&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;%%&nbsp;write&nbsp;data;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;int&nbsp;main()&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;int&nbsp;cs,&nbsp;res&nbsp;=&nbsp;0;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;char&nbsp;*p&nbsp;=&nbsp;&quot;foo&quot;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;char&nbsp;*pe&nbsp;=&nbsp;p&nbsp;+&nbsp;strlen(p)&nbsp;+&nbsp;1;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;%%&nbsp;write&nbsp;init;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;%%&nbsp;write&nbsp;exec;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;printf(&quot;result&nbsp;=&nbsp;%i\n&quot;,&nbsp;res&nbsp;);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;return&nbsp;0;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;works&nbsp;fine&nbsp;:&nbsp;&quot;&nbsp;result&nbsp;=&nbsp;1&quot;&nbsp;is&nbsp;the&nbsp;output.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;I&nbsp;tweak&nbsp;this&nbsp;a&nbsp;little&nbsp;to&nbsp;work&nbsp;the&nbsp;way&nbsp;my&nbsp;struct&nbsp;is.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;extern&nbsp;string_def&nbsp;new_string(char*&nbsp;str,&nbsp;int&nbsp;len)&nbsp;{&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;string_def&nbsp;s;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;s.start_add&nbsp;=&nbsp;str;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;s.end_add&nbsp;=&nbsp;str&nbsp;+&nbsp;len;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;return&nbsp;s;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;int&nbsp;main()&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;string_def&nbsp;str&nbsp;=&nbsp;new_string(&quot;foo\0&quot;,&nbsp;4);&nbsp;==&gt;&nbsp;Works&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;//&nbsp;string_def&nbsp;str&nbsp;=&nbsp;new_string(&quot;foo&quot;,&nbsp;3);&nbsp;==&gt;&nbsp;does&nbsp;not&nbsp;work,&nbsp;I&nbsp;WANT&nbsp;THIS&nbsp;TO&nbsp;WORK&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;int&nbsp;cs,&nbsp;res&nbsp;=&nbsp;0;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;char&nbsp;*p&nbsp;=&nbsp;str.start_add;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;char&nbsp;*pe&nbsp;=&nbsp;str.end_add;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;%%&nbsp;write&nbsp;init;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;%%&nbsp;write&nbsp;exec;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;printf(&quot;result&nbsp;=&nbsp;%i\n&quot;,&nbsp;res&nbsp;);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;return&nbsp;0;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;ragel&nbsp;looking&nbsp;for&nbsp;a&nbsp;null&nbsp;character?&nbsp;How&nbsp;to&nbsp;override&nbsp;this&nbsp;behavior??&lt;/div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
