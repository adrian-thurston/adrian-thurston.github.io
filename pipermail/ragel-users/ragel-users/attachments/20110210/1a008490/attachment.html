<tt>
Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;trying&nbsp;to&nbsp;write&nbsp;a&nbsp;simple&nbsp;html&nbsp;lexer&nbsp;with&nbsp;ragel.&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;something&nbsp;looking&nbsp;like&nbsp;this,&nbsp;to&nbsp;match&nbsp;and&nbsp;take&nbsp;an&nbsp;action&nbsp;on&nbsp;the&nbsp;attribute&nbsp;&#39;src=&#39;&nbsp;potentially&nbsp;found&nbsp;in&nbsp;several&nbsp;tag&nbsp;attributes&nbsp;:&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;  tag_content&nbsp;=&nbsp;(&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; (&#39;src=&#39;i&nbsp; (((&#39;\&#39;&#39;&nbsp;string_sgl_exp)&nbsp;|&nbsp;&#39;&quot;&#39;&nbsp;string_dbl_exp)&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &gt;src_attr_start&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; @src_attr_end))&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; |&nbsp;any&lt;/div&gt;&lt;div&gt;  &nbsp; )**&nbsp;&lt;&gt;lerr{&nbsp; };&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp; tag_exp&nbsp;=&nbsp;tag_content&nbsp;:&gt;&gt;&nbsp;&#39;&gt;&#39;;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;problem&nbsp;is&nbsp;if&nbsp;I&nbsp;create&nbsp;an&nbsp;attribute&nbsp;&lt;img&nbsp;srt=&quot;...&quot;&gt;&nbsp;(srt&nbsp;is&nbsp;not&nbsp;a&nbsp;proper&nbsp;attribute,&nbsp;but&nbsp;it&nbsp;does&nbsp;generate&nbsp;a&nbsp;parse&nbsp;error).&lt;/div&gt;<br>
<br>
&lt;div&gt;What&nbsp;I&#39;d&nbsp;like&nbsp;to&nbsp;do&nbsp;would&nbsp;be&nbsp;&lt;&gt;lerr{&nbsp;fhold;&nbsp;fgoto&nbsp;tag_content;&nbsp;},&nbsp;which&nbsp;would&nbsp;work&nbsp;if&nbsp;tag_content&nbsp;was&nbsp;an&nbsp;entry&nbsp;point.&lt;/div&gt;&lt;div&gt;But&nbsp;I&nbsp;use&nbsp;tag_exp&nbsp;in&nbsp;several&nbsp;places&nbsp;where&nbsp;an&nbsp;entry&nbsp;point&nbsp;wouldn&#39;t&nbsp;work,&nbsp;for&nbsp;instance&nbsp;:&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;img_tag&nbsp;:=&nbsp;tag_exp&nbsp;[...]&nbsp;@end_img_action;&lt;/div&gt;&lt;div&gt;script_tag&nbsp;:=&nbsp;tag_exp&nbsp;[...]&nbsp;@end_script_tag_action;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;ve&nbsp;considered&nbsp;creating&nbsp;a&nbsp;ragel&nbsp;scanner,&nbsp;but&nbsp;I&nbsp;don&#39;t&nbsp;really&nbsp;care&nbsp;for&nbsp;backtracking,&nbsp;I&#39;d&nbsp;just&nbsp;like&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;hide&nbsp;the&nbsp;error.&nbsp;This&nbsp;would&nbsp;work&nbsp;exactly&nbsp;the&nbsp;way&nbsp;I&nbsp;want&nbsp;to,&nbsp;by&nbsp;doing&nbsp;a&nbsp;fgoto&nbsp;tag_content.&nbsp;It&nbsp;would&nbsp;basically&nbsp;restart&nbsp;the&nbsp;parse&nbsp;on&nbsp;t=&#39;...&#39;&nbsp;and&nbsp;have&nbsp;it&nbsp;would&nbsp;fall&nbsp;under&nbsp;the&nbsp;&quot;any&quot;&nbsp;category.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;there&nbsp;an&nbsp;elegant&nbsp;way&nbsp;to&nbsp;do&nbsp;this,&nbsp;or&nbsp;to&nbsp;just&nbsp;hide&nbsp;the&nbsp;error&nbsp;?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Matthieu.&lt;/div&gt;<br>

</tt>
