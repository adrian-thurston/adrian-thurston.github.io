<tt>
Hi.&nbsp;I&#39;m&nbsp;new&nbsp;to&nbsp;ragel&nbsp;and&nbsp;currently&nbsp;exploring&nbsp;its&nbsp;features.&nbsp;I&#39;m&nbsp;working&nbsp;on&nbsp;some&nbsp;applications&nbsp;using&nbsp;microcontrollers&nbsp;which&nbsp;have&nbsp;very&nbsp;limited&nbsp;resources.&nbsp;Microcontrollers&nbsp;communicate&nbsp;with&nbsp;each&nbsp;other&nbsp;with&nbsp;radio.&nbsp;I&#39;m&nbsp;using&nbsp;ragel&nbsp;to&nbsp;parse&nbsp;radio&nbsp;protocol.&nbsp;So&nbsp;here&nbsp;is&nbsp;my&nbsp;questions:&lt;br&gt;<br>
&lt;br&gt;1.&nbsp;Main&nbsp;part&nbsp;of&nbsp;my&nbsp;application&nbsp;is&nbsp;infinite&nbsp;loop,&nbsp;which&nbsp;is&nbsp;waiting&nbsp;for&nbsp;input,&nbsp;parses&nbsp;it&nbsp;with&nbsp;ragel-generated&nbsp;code&nbsp;and&nbsp;do&nbsp;some&nbsp;work.&nbsp;So&nbsp;I&nbsp;don&#39;t&nbsp;have&nbsp;EOF-thing&nbsp;at&nbsp;all.&nbsp;I&nbsp;don&#39;t&nbsp;use&nbsp;any&nbsp;EOF&nbsp;actions(at&nbsp;least&nbsp;explicitly).&nbsp;But&nbsp;generated&nbsp;code&nbsp;still&nbsp;contains&nbsp;some&nbsp;EOF-stuff&nbsp;which&nbsp;uses&nbsp;eof&nbsp;variable(thus&nbsp;I&nbsp;have&nbsp;to&nbsp;declare&nbsp;it).&nbsp;Documentation&nbsp;states:&nbsp;&quot;If&nbsp;EOF&nbsp;actions&nbsp;are&nbsp;used&nbsp;then&nbsp;the&nbsp;eof&nbsp;variable&nbsp;is&nbsp;required.&quot;(so&nbsp;if&nbsp;I&nbsp;don&#39;t&nbsp;use&nbsp;EOF&nbsp;actions&nbsp;it&nbsp;shouldn&#39;t&nbsp;be&nbsp;required)&nbsp;I&nbsp;think&nbsp;I&#39;m&nbsp;missing&nbsp;something.&nbsp;Maybe&nbsp;I&nbsp;have&nbsp;to&nbsp;state&nbsp;explicitly&nbsp;somewhere&nbsp;in&nbsp;.rl&nbsp;file&nbsp;that&nbsp;EOF&nbsp;is&nbsp;senseless&nbsp;in&nbsp;my&nbsp;case.&nbsp;Here&nbsp;is&nbsp;my&nbsp;dummy-playground-example&nbsp;for&nbsp;PC&nbsp;&lt;a&nbsp;href=&quot;http://gist.github.com/239028&quot;&gt;http://gist.github.com/239028&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;2.&nbsp;Ragel&nbsp;assumes&nbsp;that&nbsp;data&nbsp;which&nbsp;have&nbsp;to&nbsp;be&nbsp;processed&nbsp;is&nbsp;between&nbsp;p&nbsp;and&nbsp;pe&nbsp;pointers.&nbsp;Can&nbsp;this&nbsp;be&nbsp;customized?&nbsp;Here&nbsp;is&nbsp;what&nbsp;I&nbsp;want.&nbsp;I&nbsp;have&nbsp;ring-buffer&nbsp;which&nbsp;fills&nbsp;in&nbsp;interrupt&nbsp;routines.&nbsp;I&nbsp;have&nbsp;interface&nbsp;function&nbsp;for&nbsp;this&nbsp;ring-buffer,&nbsp;which&nbsp;returns&nbsp;data&nbsp;from&nbsp;this&nbsp;buffer&nbsp;byte&nbsp;by&nbsp;byte&nbsp;(&nbsp;int&nbsp;cyw_tryread(uint8_t*&nbsp;ptr)&nbsp;).&nbsp;If&nbsp;there&nbsp;is&nbsp;some&nbsp;valid&nbsp;data&nbsp;in&nbsp;buffer&nbsp;it&nbsp;writes&nbsp;it&nbsp;to&nbsp;(*ptr)&nbsp;and&nbsp;returns&nbsp;1,&nbsp;otherwise&nbsp;0.&nbsp;I&nbsp;want&nbsp;ragel&nbsp;to&nbsp;use&nbsp;this&nbsp;function&nbsp;as&nbsp;source&nbsp;of&nbsp;data&nbsp;instead&nbsp;of&nbsp;walking&nbsp;through&nbsp;p&nbsp;pointer.&nbsp;It&nbsp;seems&nbsp;that&nbsp;all&nbsp;I&nbsp;need&nbsp;to&nbsp;do&nbsp;for&nbsp;this&nbsp;is&nbsp;replace&lt;br&gt;<br>
&gt;   &nbsp;if&nbsp;(&nbsp;++p&nbsp;!=&nbsp;pe&nbsp;)&lt;br&gt;&gt;       &nbsp;goto&nbsp;_resume;&lt;br&gt;with&lt;br&gt;&gt;   &nbsp;if&nbsp;(&nbsp;cyw_tryread(p))&lt;br&gt;&gt;       &nbsp;goto&nbsp;_resume;&lt;br&gt;pe&nbsp;pointer&nbsp;is&nbsp;useless&nbsp;here.&nbsp;So&nbsp;can&nbsp;I&nbsp;customize&nbsp;this&nbsp;in&nbsp;ragel&nbsp;without&nbsp;patching&nbsp;generated&nbsp;code(patching&nbsp;generated&nbsp;code&nbsp;is&nbsp;not&nbsp;very&nbsp;good&nbsp;thing&nbsp;to&nbsp;do...)&lt;br&gt;<br>
&lt;br&gt;3.&nbsp;Can&nbsp;I&nbsp;embed&nbsp;C&nbsp;checks&nbsp;within&nbsp;machine&nbsp;definition&nbsp;statement?&nbsp;e.g.&nbsp;if&nbsp;I&nbsp;want&nbsp;machine&nbsp;that&nbsp;matches&nbsp;any&nbsp;character,&nbsp;that&nbsp;have&nbsp;nonzero&nbsp;bit&nbsp;number&nbsp;2&nbsp;(xxxxx1xx).&nbsp;So&nbsp;for&nbsp;this&nbsp;characters&nbsp;(ch&nbsp;&amp;&nbsp;4)&nbsp;is&nbsp;true.&nbsp;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;define&nbsp;such&nbsp;machine?&lt;br&gt;<br>
&lt;br&gt;Any&nbsp;tips&nbsp;and&nbsp;explanations&nbsp;would&nbsp;be&nbsp;very&nbsp;much&nbsp;appreciated.&lt;br&gt;__&lt;br&gt;Grygoriy&nbsp;Fuchedzhy&lt;br&gt;&lt;br&gt;<br>

</tt>
