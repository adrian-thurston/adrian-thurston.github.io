<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] another newbie question!!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20another%20newbie%20question%21%21&In-Reply-To=%3C46E951B0.7050608%40cs.queensu.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000344.html">
   <LINK REL="Next"  HREF="000346.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] another newbie question!!</H1>
    <B>Adrian Thurston</B> 
    <A HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20another%20newbie%20question%21%21&In-Reply-To=%3C46E951B0.7050608%40cs.queensu.ca%3E"
       TITLE="[ragel-users] another newbie question!!">thurs... at cs.queensu.ca
       </A><BR>
    <I>Thu Sep 13 15:05:20 UTC 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000344.html">another newbie question!!
</A></li>
        <LI>Next message: <A HREF="000346.html">Problem with long alphabet type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#345">[ date ]</a>
              <a href="thread.html#345">[ thread ]</a>
              <a href="subject.html#345">[ subject ]</a>
              <a href="author.html#345">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

This state machine is executed with the first argument string as input,
not the contents of the file named by the first argument. Ragel does not
open any files for you in case that's what you thought. You want to be
executing the program with

/ragel$ ./prog 'bar bar bar'

-Adrian

Sarkar wrote:
&gt;<i> i went thru the earlier post on tryin to run c++ programs using
</I>&gt;<i> ragel..i tried it..
</I>&gt;<i> 
</I>&gt;<i> /ragel$ ragel -C prog.rl -o prog.rlo
</I>&gt;<i> /ragel$ rlgen prog.rlo -l -o prog.cpp
</I>&gt;<i> /ragel$ g++ prog.cpp -o prog
</I>&gt;<i> /ragel$ ./prog input.txt
</I>&gt;<i> 
</I>&gt;<i> the program i ran was
</I>&gt;<i> 
</I>&gt;<i> #include &lt;string.h&gt;
</I>&gt;<i> #include &lt;stdio.h&gt;
</I>&gt;<i> 
</I>&gt;<i> %%{
</I>&gt;<i>     machine foo;
</I>&gt;<i>     main := ('foo'|'bar') @{res = 1; };
</I>&gt;<i> }%%
</I>&gt;<i> 
</I>&gt;<i> %% write data;
</I>&gt;<i> 
</I>&gt;<i> int main( int argc, char **argv )
</I>&gt;<i> {
</I>&gt;<i> 	int cs, res = 0;
</I>&gt;<i> 	if ( argc &gt; 0 ) {
</I>&gt;<i> 		char *p = argv[1];
</I>&gt;<i> 		char *pe = p + strlen(p) + 1;
</I>&gt;<i> 		%% write init;
</I>&gt;<i> 		%% write exec;
</I>&gt;<i> 	}
</I>&gt;<i> printf(&quot;result = %i\n&quot;, res );
</I>&gt;<i> return 0;
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> the input text file is gave was 'bar bar bar'
</I>&gt;<i> 
</I>&gt;<i> i expect the output should have been 'result = 1'
</I>&gt;<i> but the output always came out as 'result = 0'
</I>&gt;<i> when i initialised res=1 the output came out as 'result = 1'
</I>&gt;<i> 
</I>&gt;<i> could someone please help me understand what the program is all about
</I>&gt;<i> and whether the output i got is valid and why??!
</I>&gt;<i> 
</I>&gt;<i> Cheers!
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> --~--~---------~--~----~------------~-------~--~----~
</I>&gt;<i> You received this message because you are subscribed to the Google Groups &quot;ragel-users&quot; group.
</I>&gt;<i> To post to this group, send email to <A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">ragel-users at googlegroups.com</A>
</I>&gt;<i> To unsubscribe from this group, send email to <A HREF="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">ragel-users-unsubscribe at googlegroups.com</A>
</I>&gt;<i> For more options, visit this group at <A HREF="http://groups.google.com/group/ragel-users?hl=en">http://groups.google.com/group/ragel-users?hl=en</A>
</I>&gt;<i> -~----------~----~----~----~------~----~------~--~---
</I>&gt;<i> 
</I>&gt;<i> 
</I>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="http://www.colm.net/pipermail/ragel/attachments/20070913/cb8d15c3/attachment.sig">http://www.colm.net/pipermail/ragel/attachments/20070913/cb8d15c3/attachment.sig</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000344.html">another newbie question!!
</A></li>
	<LI>Next message: <A HREF="000346.html">Problem with long alphabet type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#345">[ date ]</a>
              <a href="thread.html#345">[ thread ]</a>
              <a href="subject.html#345">[ subject ]</a>
              <a href="author.html#345">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">More information about the ragel
mailing list</a><br>
</body></html>
