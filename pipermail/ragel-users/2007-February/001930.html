<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> action ordering. is this a bug?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20action%20ordering.%20is%20this%20a%20bug%3F&In-Reply-To=%3C1171841393.419705.12210%40s48g2000cws.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000166.html">
   <LINK REL="Next"  HREF="001931.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>action ordering. is this a bug?</H1>
    <B>Steve Horne</B> 
    <A HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20action%20ordering.%20is%20this%20a%20bug%3F&In-Reply-To=%3C1171841393.419705.12210%40s48g2000cws.googlegroups.com%3E"
       TITLE="action ordering. is this a bug?">stephenhorne... at aol.com
       </A><BR>
    <I>Sun Feb 18 23:29:53 UTC 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000166.html">action ordering.  is this a bug?
</A></li>
        <LI>Next message: <A HREF="001931.html">action ordering. is this a bug?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1930">[ date ]</a>
              <a href="thread.html#1930">[ thread ]</a>
              <a href="subject.html#1930">[ subject ]</a>
              <a href="author.html#1930">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I understand Adrian won't be around for a couple of weeks. I'm no
Ragel expert, but I'll make what I think is an educated guess and hope
someone sets both of us straight ;-)

&gt;<i> I would
</I>&gt;<i> expect to see &quot;&gt;tbarz&quot; first, but I don't.
</I>
&gt;<i>From what you are saying, I suspect you are confusing 'entering a
</I>state' with 'entering a rule'.

Your 'tbarz' rule has a sequence of two instances of 'barz'. The first
'barz' will be recognised first. In a sense, this implies that the
recognition of the 'tbarz' rule has started - but the *state* where
'tbarz' has been fully recognised will not be entered until two
instances of 'barz' have been recognised.

Even entry actions aren't triggered at the start of a rule - they are
triggered on entry into the state where the rule has been fully
recognised. Basically, the recognition tends to find the smallest
building blocks first, progressing to larger building blocks later.

In general, entry actions *cannot* be triggered on (for instance) the
first character of a rule - you cannot know for sure which is the
right rule. Consider what happens when there are two alternatives, for
instance...

opt1 = a.b;
opt2 = a.c;
main = opt1 | opt2;

When the only input that has been examined is the 'a', you cannot tell
whether you have an opt1 or an opt2. Therefore you cannot choose the
correct entry action - this can only happen when you have also
examined the 'b' or 'c' and entered the state where either opt1 or
opt2 has been fully recognised.

&gt;<i> Is the behavior caused by the ambiguity of the grammar?
</I>
I don't think so. The finite state models generated by Ragel should be
fully deterministic unless the backtracking scanner syntax is used.
Ragel has disambiguating rules that it uses while compiling the state
model, using priority specifications and/or guarded operators, so you
will be getting the default (all priorities equal) disambiguations.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000166.html">action ordering.  is this a bug?
</A></li>
	<LI>Next message: <A HREF="001931.html">action ordering. is this a bug?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1930">[ date ]</a>
              <a href="thread.html#1930">[ thread ]</a>
              <a href="subject.html#1930">[ subject ]</a>
              <a href="author.html#1930">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">More information about the ragel-users
mailing list</a><br>
</body></html>
