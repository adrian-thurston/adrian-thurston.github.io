<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ragel-users] Ragel success story
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Ragel%20success%20story&In-Reply-To=%3C47A7B43B.9000707%40cs.queensu.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000473.html">
   <LINK REL="Next"  HREF="000475.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ragel-users] Ragel success story</H1>
    <B>Adrian Thurston</B> 
    <A HREF="mailto:ragel%40colm.net?Subject=Re%3A%20%5Bragel-users%5D%20Ragel%20success%20story&In-Reply-To=%3C47A7B43B.9000707%40cs.queensu.ca%3E"
       TITLE="[ragel-users] Ragel success story">thurs... at cs.queensu.ca
       </A><BR>
    <I>Tue Feb  5 00:56:27 UTC 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000473.html">Ragel success story
</A></li>
        <LI>Next message: <A HREF="000475.html">Ragel success story
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#474">[ date ]</a>
              <a href="thread.html#474">[ thread ]</a>
              <a href="subject.html#474">[ subject ]</a>
              <a href="author.html#474">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Wincent,

Nice writeup! Thanks for sharing your experience.

It seems from the Rakefile that you're using the default output code
style. If speed is what you're after you should try the -G2 option :D

-Adrian

Wincent Colaiuta wrote:
&gt;<i> Here's a little Ragel success story.
</I>&gt;<i> 
</I>&gt;<i> I've written a wikitext-to-HTML translator written in C (a Ruby
</I>&gt;<i> extension) and up until a few days ago it was using a lexer generated
</I>&gt;<i> by ANTLR 3.0.1 (the C target). I've had a suspicion for some time,
</I>&gt;<i> however, that a Ragel scanner might be faster for a number of reasons.
</I>&gt;<i> 
</I>&gt;<i> Imagine my surprise when I compared the speed and found that Ragel was
</I>&gt;<i> nearly 10 times faster! I hadn't been expecting that kind of
</I>&gt;<i> improvement.
</I>&gt;<i> 
</I>&gt;<i> You can look at the code here:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://git.wincent.com/wikitext.git">http://git.wincent.com/wikitext.git</A>
</I>&gt;<i> 
</I>&gt;<i> And an article with the benchmark results is here:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://wincent.com/a/about/wincent/weblog/archives/2008/02/ragel_wins_fata.php">http://wincent.com/a/about/wincent/weblog/archives/2008/02/ragel_wins_fata.php</A>
</I>&gt;<i> 
</I>&gt;<i> For comparison, the current version of the ANTLR grammar at the time
</I>&gt;<i> of writing is:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://git.wincent.com/wikitext.git?a=blob;f=ext/Wikitext.g;h=642f275cd36d0a0f28c1bf8fc2f859658a0e1a81;hb=antlr">http://git.wincent.com/wikitext.git?a=blob;f=ext/Wikitext.g;h=642f275cd36d0a0f28c1bf8fc2f859658a0e1a81;hb=antlr</A>
</I>&gt;<i> 
</I>&gt;<i> And the corresponding Ragel scanner implementation is:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://git.wincent.com/wikitext.git?a=blob;f=ext/wikitext_ragel.rl;h=a82a304632826370041639ed0d9d9c085faeda98;hb=bd7799aa1938f36f65b2523b47f1202eac3b31bf">http://git.wincent.com/wikitext.git?a=blob;f=ext/wikitext_ragel.rl;h=a82a304632826370041639ed0d9d9c085faeda98;hb=bd7799aa1938f36f65b2523b47f1202eac3b31bf</A>
</I>&gt;<i> 
</I>&gt;<i> I've made no attempt at optimization yet, but the performance of the
</I>&gt;<i> Ragel scanner is already spectacular for a &quot;rough draft&quot;.
</I>&gt;<i> 
</I>&gt;<i> Ragel is a wonderful tool!
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> Wincent
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000473.html">Ragel success story
</A></li>
	<LI>Next message: <A HREF="000475.html">Ragel success story
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#474">[ date ]</a>
              <a href="thread.html#474">[ thread ]</a>
              <a href="subject.html#474">[ subject ]</a>
              <a href="author.html#474">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel">More information about the ragel
mailing list</a><br>
</body></html>
