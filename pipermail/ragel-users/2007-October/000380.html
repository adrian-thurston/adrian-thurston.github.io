<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> first of the 6.0 changes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20first%20of%20the%206.0%20changes&In-Reply-To=%3C1268825902-1191522894-cardhu_decombobulator_blackberry.rim.net-709777873-%40bxe033.bisx.prod.on.blackberry%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="002142.html">
   <LINK REL="Next"  HREF="002144.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>first of the 6.0 changes</H1>
    <B>Adrian Thurston</B> 
    <A HREF="mailto:ragel-users%40colm.net?Subject=Re%3A%20first%20of%20the%206.0%20changes&In-Reply-To=%3C1268825902-1191522894-cardhu_decombobulator_blackberry.rim.net-709777873-%40bxe033.bisx.prod.on.blackberry%3E"
       TITLE="first of the 6.0 changes">thurs... at cs.queensu.ca
       </A><BR>
    <I>Thu Oct  4 18:34:59 UTC 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002142.html">[ragel-users] Re: ruby code generation question
</A></li>
        <LI>Next message: <A HREF="002144.html">[ragel-users] first of the 6.0 changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#380">[ date ]</a>
              <a href="thread.html#380">[ thread ]</a>
              <a href="subject.html#380">[ subject ]</a>
              <a href="author.html#380">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've implemented the first of the 6.0 changes. A new variable named eof and of the same type as p and pe must be declared when there are any EOF actions embedded. When there is no more input following (the last run of write exec) it should be set to pe. Otherwise it should be set to null (-1 in the case of Java and Ruby). If EOF can be known only after the input is exhausted then p=pe=eof=buf can be set and the exec code run.

The advantage of indicating EOF in this way is that EOF actions can be moved into the main processing loop and run in the same context as regular actions. They can now adjust p and jump to some other state to resume processing.

Since EOF actions can now backtrack in the input, scanners can use them to 'flush' out the last token. There is no more need to do this manually by sending trailing whitespace or some EOF character.

Adrian

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002142.html">[ragel-users] Re: ruby code generation question
</A></li>
	<LI>Next message: <A HREF="002144.html">[ragel-users] first of the 6.0 changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#380">[ date ]</a>
              <a href="thread.html#380">[ thread ]</a>
              <a href="subject.html#380">[ subject ]</a>
              <a href="author.html#380">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.colm.net/cgi-bin/mailman/listinfo/ragel-users">More information about the ragel-users
mailing list</a><br>
</body></html>
